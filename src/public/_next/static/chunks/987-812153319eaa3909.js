(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{57922:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(63366),s=r(87462),i=r(67294),o=r(86010),a=r(8662),l=r(94780),m=r(11496),c=r(54502),d=r(96067),u=r(30577),f=r(2734),x=r(51705),h=r(1588),b=r(34867);function p(e){return(0,b.Z)("MuiCollapse",e)}(0,h.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var N=r(85893);const v=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],g=(0,m.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],"entered"===r.state&&t.entered,"exited"===r.state&&!r.in&&"0px"===r.collapsedSize&&t.hidden]}})((({theme:e,ownerState:t})=>(0,s.Z)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&(0,s.Z)({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"}))),k=(0,m.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((({ownerState:e})=>(0,s.Z)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),O=(0,m.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((({ownerState:e})=>(0,s.Z)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),j=i.forwardRef((function(e,t){const r=(0,c.Z)({props:e,name:"MuiCollapse"}),{addEndListener:m,children:h,className:b,collapsedSize:j="0px",component:y,easing:T,in:w,onEnter:A,onEntered:F,onEntering:_,onExit:S,onExited:M,onExiting:C,orientation:B="vertical",style:E,timeout:I=d.x9.standard,TransitionComponent:D=a.ZP}=r,H=(0,n.Z)(r,v),W=(0,s.Z)({},r,{orientation:B,collapsedSize:j}),G=(e=>{const{orientation:t,classes:r}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,l.Z)(n,p,r)})(W),P=(0,f.Z)(),R=i.useRef(),z=i.useRef(null),U=i.useRef(),L="number"===typeof j?`${j}px`:j,Z="horizontal"===B,$=Z?"width":"height";i.useEffect((()=>()=>{clearTimeout(R.current)}),[]);const X=i.useRef(null),q=(0,x.Z)(t,X),K=e=>t=>{if(e){const r=X.current;void 0===t?e(r):e(r,t)}},Y=()=>z.current?z.current[Z?"clientWidth":"clientHeight"]:0,V=K(((e,t)=>{z.current&&Z&&(z.current.style.position="absolute"),e.style[$]=L,A&&A(e,t)})),Q=K(((e,t)=>{const r=Y();z.current&&Z&&(z.current.style.position="");const{duration:n,easing:s}=(0,u.C)({style:E,timeout:I,easing:T},{mode:"enter"});if("auto"===I){const t=P.transitions.getAutoHeightDuration(r);e.style.transitionDuration=`${t}ms`,U.current=t}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[$]=`${r}px`,e.style.transitionTimingFunction=s,_&&_(e,t)})),J=K(((e,t)=>{e.style[$]="auto",F&&F(e,t)})),ee=K((e=>{e.style[$]=`${Y()}px`,S&&S(e)})),te=K(M),re=K((e=>{const t=Y(),{duration:r,easing:n}=(0,u.C)({style:E,timeout:I,easing:T},{mode:"exit"});if("auto"===I){const r=P.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${r}ms`,U.current=r}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[$]=L,e.style.transitionTimingFunction=n,C&&C(e)}));return(0,N.jsx)(D,(0,s.Z)({in:w,onEnter:V,onEntered:J,onEntering:Q,onExit:ee,onExited:te,onExiting:re,addEndListener:e=>{"auto"===I&&(R.current=setTimeout(e,U.current||0)),m&&m(X.current,e)},nodeRef:X,timeout:"auto"===I?null:I},H,{children:(e,t)=>(0,N.jsx)(g,(0,s.Z)({as:y,className:(0,o.Z)(G.root,b,{entered:G.entered,exited:!w&&"0px"===L&&G.hidden}[e]),style:(0,s.Z)({[Z?"minWidth":"minHeight"]:L},E),ownerState:(0,s.Z)({},W,{state:e}),ref:q},t,{children:(0,N.jsx)(k,{ownerState:(0,s.Z)({},W,{state:e}),className:G.wrapper,ref:z,children:(0,N.jsx)(O,{ownerState:(0,s.Z)({},W,{state:e}),className:G.wrapperInner,children:h})})}))}))}));j.muiSupportAuto=!0;var y=j},96021:function(e,t,r){"use strict";r.r(t),r.d(t,{PopoverPaper:function(){return n.XS},PopoverRoot:function(){return n.Pg},default:function(){return n.ZP},getOffsetLeft:function(){return n.pB},getOffsetTop:function(){return n.oJ},getPopoverUtilityClass:function(){return s.s},popoverClasses:function(){return s.Z}});var n=r(51697),s=r(3994)},51247:function(e,t,r){"use strict";var n=r(64836),s=r(18698);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e,r&&r.set(e,n)}(r(67294));var i=n(r(28031)),o=n(r(96021));function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}var l=(0,i.default)(o.default);t.Z=l},28031:function(e,t,r){"use strict";var n=r(64836),s=r(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return l.forwardRef((function(t,r){var n=t.PaperProps,s=t.style,o=(0,a.default)(t,m);return l.createElement(e,(0,i.default)({},o,{ref:r,style:u({pointerEvents:"none"},s),PaperProps:u(u({},n),{},{style:u({pointerEvents:"auto"},null===n||void 0===n?void 0:n.style)})}))}))};var i=n(r(10434)),o=n(r(38416)),a=n(r(70215)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(67294)),m=["PaperProps","style"];function c(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},44851:function(e,t){"use strict";t.Z={src:"/_next/static/media/check_invalid.cc771852.svg",height:22,width:22,blurWidth:0,blurHeight:0}},67491:function(e,t){"use strict";t.Z={src:"/_next/static/media/check_valid.d49e4667.svg",height:22,width:22,blurWidth:0,blurHeight:0}},57455:function(e,t){"use strict";t.Z={src:"/_next/static/media/fire.851df969.svg",height:33,width:28,blurWidth:0,blurHeight:0}},15058:function(e,t){"use strict";t.Z={src:"/_next/static/media/rocket.76e7d956.svg",height:12,width:12,blurWidth:0,blurHeight:0}},4516:function(e,t){"use strict";t.Z={src:"/_next/static/media/user_avatar.e2b5a0fe.png",height:34,width:34,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAUVBMVEX/xSj/wye1gRjHkB9MaXHzuiT3wCv9vyT/xyv+xijcpBvfpCX9/Xv/81DRnSCnZjz/ySr7vyr/1Cr6zj7GiDu9fjWqdBGaYiHAdy7TjUn/5ERzppUeAAAAD3RSTlP2tfr6APsuL+yx/v60+LXMIGZuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVR4nBXK2RaAIAgFwGuBSBuC2vb/H9ppngckCUiZIKXxUotA63RecyhQu9lwAP6YdQc0+B4cCilvW/9Medv5yPQBWmMCtpW/wbwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},56061:function(e,t,r){"use strict";r.d(t,{j:function(){return o}});var n=r(85893),s=r(94184),i=r.n(s);const o=e=>{const{type:t}=e;return(0,n.jsx)("div",{className:i()("rounded-[.06rem] px-[.04rem] py-[.04rem] text-[.12rem] flex items-center justify-center",t&&"primary"!==t?"text-color-text1":"text-text1",{"border-[0.01rem] border-text1/10 dark:border-text1Dark/10":"stroke"===t}),style:{background:t&&"primary"!==t?"":"linear-gradient(279.55deg, #FFCD29 -1.42%, #FEA4FF 96.22%)"},children:e.children})}},27068:function(e,t,r){"use strict";r.d(t,{J:function(){return d}});var n=r(85893),s=r(67294),i=r(57922),o=r(22657),a=r(94184),l=r.n(a),m=r(12564),c=r(25648);const d=e=>{const t=(0,m.T)(),{id:r}=e,[a,d]=(0,s.useState)(!1),u=(0,m.C)((e=>e.app.collapseOpenId));return(0,s.useEffect)((()=>{e.id&&u===e.id&&(d(!0),t((0,c.BG)(void 0)))}),[u,e.id,t]),(0,n.jsxs)("div",{className:"bg-text2/10 rounded-[.12rem]",id:r,children:[(0,n.jsxs)("div",{className:"py-[.24rem] flex items-start justify-between px-[.24rem] cursor-pointer",style:{marginTop:e.mt||"0"},onClick:()=>d(!a),children:[(0,n.jsx)("div",{className:"text-color-text2 text-[.18rem] font-[1000] flex-1 leading-tight mr-[.12rem]",style:{maxLines:2,overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:2,lineClamp:2,display:"-webkit-box",WebkitBoxOrient:"vertical"},children:e.text}),(0,n.jsx)("div",{className:l()("mt-[.05rem] flex items-center",a?"rotate-90":""),children:(0,n.jsx)(o.j,{icon:"right",size:".11rem",color:"#6C86AD"})})]}),(0,n.jsx)(i.Z,{in:a,children:(0,n.jsx)("div",{className:"mt-[.12rem] text-color-text2 text-[.15rem] pb-[.16rem] px-[.24rem] break-word leading-normal",children:e.children})})]})}},92088:function(e,t,r){"use strict";r.d(t,{K:function(){return f}});var n=r(85893),s=r(98373),i=r(11163),o={src:"/_next/static/media/arrow_left.8a03f44e.svg",height:12,width:13,blurWidth:0,blurHeight:0},a={src:"/_next/static/media/arrow_left_light.eca20895.svg",height:12,width:13,blurWidth:0,blurHeight:0},l=r(25675),m=r.n(l),c=r(94184),d=r.n(c),u=r(67294);const f=e=>{const{darkMode:t,routeHistoryList:r,appEnv:l,appNet:c}=(0,s.T)(),f=(0,i.useRouter)(),x=(0,u.useMemo)((()=>f.pathname.startsWith("/gallery/[eco]/")),[f]);return(0,n.jsx)("div",{className:d()("flex justify-center",x?"h-[1.56rem]":"h-[1.16rem]"),style:{background:t?"linear-gradient(180deg, #222C3C -20.69%, #222C3C80 103.45%)":"linear-gradient(180deg, rgba(255, 255, 255, 0) -20.69%, rgba(255, 255, 255, 0.5) 103.45%)",boxShadow:t?"0px 1px 0px #6C86AD4D":"0px 1px 0px #FFFFFF"},children:(0,n.jsxs)("div",{className:"w-smallContentW xl:w-contentW 2xl:w-largeContentW flex flex-col",children:[f.pathname.startsWith("/gallery/[eco]/")&&(0,n.jsx)("div",{className:"self-start flex cursor-pointer mb-[.24rem] active:opacity-50",onClick:()=>{r.length>1?f.back():f.replace("/gallery/all")},children:(0,n.jsxs)("div",{className:"h-[.4rem] rounded-[.12rem] bg-color-bg2 text-color-text1 text-[.16rem] flex justify-between items-center px-[.16rem] gap-[.08rem]",children:[(0,n.jsx)("div",{className:"w-[.13rem] h-[.12rem] relative text-color-text1",children:(0,n.jsx)(m(),{src:t?a:o,layout:"fill",alt:"arrow"})}),"Back"]})}),(0,n.jsx)("div",{children:e.children})]})})}},33688:function(e,t,r){"use strict";r.d(t,{E:function(){return d}});var n=r(85893),s=r(94184),i=r.n(s),o=r(25675),a=r.n(o),l=r(11163),m=r(57455),c=r(67294);const d=e=>{const t=(0,l.useRouter)(),{hideBridgeTab:r,showWithdrawTab:s,showRedelegateTab:o}=e,d=(0,c.useMemo)((()=>s||"withdraw"===t.query.tab),[t.query,s]),u=(0,c.useMemo)((()=>o?d?r?4:5:r?3:4:d?r?3:4:r?2:3),[o,d,r]);return(0,n.jsxs)("div",{className:i()("p-[.04rem] h-[.42rem] grid items-stretch bg-color-bg2 rounded-[.3rem]",2===u?"w-[2.2rem]":3===u?"w-[3.1rem]":4===u?"w-[4rem]":"w-[5.2rem]"),style:{gridTemplateColumns:2===u?"50% 50%":3===u?"33.3% 33.3% 33.4%":4===u?"22% 22% 22% 34%":"15% 15% 15% 21% 34%"},children:[(0,n.jsx)("div",{className:i()("cursor-pointer flex items-center justify-center text-[.16rem] rounded-[.3rem]","stake"===e.selectedTab||"unstake"===e.selectedTab?"text-color-highlight bg-color-highlight":"text-color-text1"),onClick:()=>e.onChangeTab("stake"),children:"Stake"}),(0,n.jsxs)("div",{className:i()("cursor-pointer flex items-center justify-center text-[.16rem] rounded-[.3rem]","trade"===e.selectedTab?"text-color-highlight bg-color-highlight":"text-color-text1"),onClick:()=>e.onChangeTab("trade"),children:[(0,n.jsx)("span",{children:"Trade"}),(0,n.jsx)("div",{className:"w-[.14rem] h-[.16rem] ml-[.05rem] relative",children:(0,n.jsx)(a(),{src:m.Z,alt:"fire",layout:"fill"})})]}),(0,n.jsx)("div",{className:i()("cursor-pointer items-center justify-center text-[.16rem] rounded-[.3rem]","bridge"===e.selectedTab?"text-color-highlight bg-color-highlight":"text-color-text1",r?"hidden":"flex"),onClick:()=>e.onChangeTab("bridge"),children:"Bridge"}),o&&(0,n.jsx)("div",{className:i()("cursor-pointer items-center justify-center text-[.16rem] rounded-[.3rem] flex","liquidStake"===e.selectedTab?"text-color-highlight bg-color-highlight":"text-color-text1"),onClick:()=>e.onChangeTab("liquidStake"),children:"Liquid Stake"}),d&&(0,n.jsxs)("div",{className:"flex items-stretch",children:[(0,n.jsx)("div",{className:"ml-[.1rem] w-[0.01rem] h-[.22rem] bg-[#DEE6F7] dark:bg-bg1Dark self-center"}),(0,n.jsx)("div",{className:i()("flex-1 ml-[.1rem] cursor-pointer flex items-center justify-center text-[.16rem] rounded-[.3rem]","withdraw"===e.selectedTab?"text-color-highlight bg-color-highlight":"text-color-text1"),onClick:()=>e.onChangeTab("withdraw"),children:"Withdraw"})]})]})}},27200:function(e,t,r){"use strict";r.d(t,{j:function(){return Ee}});var n=r(85893),s=r(94184),i=r.n(s),o=r(67294),a=r(51697),l=r(54972),m=r(50555),c=r(76964),d=r(63287),u=r(22657),f=r(7005),x=r(83485),h=r(98373),b=r(18310),p=r(98867),N=r(7641),v=r(27850),g=r(81078),k=r(76676),O=r(74646),j=r(12564),y=r(64358);function T(e,t,r){const n=(0,j.T)(),[s,i]=(0,o.useState)(),[a,l]=(0,o.useState)(),[m,c]=(0,o.useState)(),{erc20BridgeFee:d,bep20BridgeFee:u,solBridgeFee:f,ksmBondFees:x,ksmBondTxFees:h,ksmPools:T,dotBondFees:w,dotBondTxFees:A,dotPools:F,solBondFees:_,solBondTxFees:S,solPools:M,fisBondTxFees:C,fisPools:B}=(0,j.C)((e=>({erc20BridgeFee:e.bridge.erc20BridgeFee,bep20BridgeFee:e.bridge.bep20BridgeFee,solBridgeFee:e.bridge.solBridgeFee,ksmBondFees:e.ksm.bondFees,ksmBondTxFees:e.ksm.bondTxFees,ksmPools:e.ksm.validPools,dotBondFees:e.dot.bondFees,dotBondTxFees:e.dot.bondTxFees,dotPools:e.dot.validPools,solBondFees:e.sol.bondFees,solBondTxFees:e.sol.bondTxFees,solPools:e.sol.validPools,fisBondTxFees:e.fis.bondTxFees,fisPools:e.fis.validPools})));return(0,o.useEffect)((()=>{n((0,p.Ls)())}),[n]),(0,o.useEffect)((()=>{e===b.O_.KSM&&(n((0,g.Cm)()),n((0,g.Xl)(t)))}),[n,e,T,t]),(0,o.useEffect)((()=>{e===b.O_.DOT&&(n((0,N.o$)()),n((0,N.M9)(t)))}),[n,e,F,t]),(0,o.useEffect)((()=>{e===b.O_.SOL&&(n((0,k.az)()),n((0,k.fZ)(t)))}),[n,e,M,t]),(0,o.useEffect)((()=>{e===b.O_.FIS&&n((0,v.TS)(r))}),[n,e,B,r]),(0,o.useEffect)((()=>{if(e===b.O_.KSM){i({amount:y.uN,tokenName:"KSM"});const e=Number((0,O.pj)(x,b.Wr.FIS)),r=Number(h);l({amount:r+"",tokenName:"FIS"}),t===b.Yn.Native?c({amount:e+"",tokenName:"FIS"}):t===b.Yn.ERC20?c({amount:e+Number(d)+"",tokenName:"FIS"}):t===b.Yn.BEP20?c({amount:e+Number(u)+"",tokenName:"FIS"}):t===b.Yn.SPL&&c({amount:e+Number(f)+"",tokenName:"FIS"})}else if(e===b.O_.DOT){i({amount:y.aR,tokenName:"DOT"});const e=Number((0,O.pj)(w,b.Wr.FIS)),r=Number(A);l({amount:r+"",tokenName:"FIS"}),t===b.Yn.Native?c({amount:e+"",tokenName:"FIS"}):t===b.Yn.ERC20?c({amount:e+Number(d)+"",tokenName:"FIS"}):t===b.Yn.BEP20?c({amount:e+Number(u)+"",tokenName:"FIS"}):t===b.Yn.SPL&&c({amount:e+Number(f)+"",tokenName:"FIS"})}else if(e===b.O_.SOL){i({amount:y._G,tokenName:"SOL"});const e=Number((0,O.pj)(_,b.Wr.FIS)),r=Number(S);l({amount:r+"",tokenName:"FIS"}),t===b.Yn.Native?c({amount:e+"",tokenName:"FIS"}):t===b.Yn.ERC20?c({amount:e+Number(d)+"",tokenName:"FIS"}):t===b.Yn.BEP20?c({amount:e+Number(u)+"",tokenName:"FIS"}):t===b.Yn.SPL&&c({amount:e+"",tokenName:"FIS"})}else if(e===b.O_.FIS){const e=Number(C);l({amount:e+"",tokenName:"FIS"}),r===b.Yn.Native?c({amount:"",tokenName:"FIS"}):r===b.Yn.ERC20?c({amount:Number(d)+"",tokenName:"FIS"}):r===b.Yn.BEP20&&c({amount:Number(u)+"",tokenName:"FIS"})}}),[e,t,x,h,w,A,d,u,f,_,S,C,r]),{sendFee:s,txFee:a,bridgeFee:m}}var w=r(87905),A=r(53695),F=r(51247),_=r(23330);const S=e=>{var t,r,s,a,l;const{darkMode:m}=(0,h.T)(),{tokenName:c,selectedTokenStandard:d}=e,{sendFee:f,txFee:p,bridgeFee:N}=T(c,d||b.Yn.Native,d),v=(0,A.o_)({variant:"popover",popupId:"commonTxCost"}),g=(0,w.p)("FIS"),k=(0,w.p)(c),j=(0,o.useMemo)((()=>{if(c===b.O_.FIS){var e,t,r,n;if(isNaN(Number(g)))return;if(isNaN(Number(null===(e=p)||void 0===e?void 0:e.amount))||isNaN(Number(null===(t=N)||void 0===t?void 0:t.amount)))return;return Number(g)*Number(null===(r=p)||void 0===r?void 0:r.amount)+Number(g)*Number(null===(n=N)||void 0===n?void 0:n.amount)}var s,i,o,a,l,m;if(!isNaN(Number(g))&&!isNaN(Number(k))&&!(isNaN(Number(null===(s=p)||void 0===s?void 0:s.amount))||isNaN(Number(null===(i=N)||void 0===i?void 0:i.amount))||isNaN(Number(null===(o=f)||void 0===o?void 0:o.amount))))return Number(g)*Number(null===(a=p)||void 0===a?void 0:a.amount)+Number(g)*Number(null===(l=N)||void 0===l?void 0:l.amount)+Number(k)*Number(null===(m=f)||void 0===m?void 0:m.amount)}),[g,k,p,N,f,c]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"text-color-text2 text-[.16rem] flex cursor-pointer items-center",...(0,A.b8)(v),children:["$",(0,O.uf)(j,{decimals:4}),(0,n.jsx)("div",{className:i()("flex items-center relative ml-[.1rem] self-center",v.isOpen?" rotate-[270deg]":" rotate-90"),children:(0,n.jsx)(u.j,{icon:"right",layout:"fill",alt:"down",size:".12rem",color:m?"#FFFFFF80":"#6C86AD"})})]}),(0,n.jsx)(F.Z,{...(0,A.ZW)(v),transformOrigin:{horizontal:"center",vertical:"top"},anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{marginTop:".15rem","& .MuiPopover-paper":{background:m?"#6C86AD4D":"#ffffff80",border:m?"0.01rem solid #6C86AD80":"0.01rem solid #FFFFFF",backdropFilter:"blur(.4rem)",borderRadius:".3rem"},"& .MuiTypography-root":{padding:"0rem"},"& .MuiBox-root":{padding:"0rem"}},children:(0,n.jsxs)("div",{className:i()("w-[2.5rem] p-[.16rem] text-color-text2 text-[.14rem] overflow-hidden",m?"dark":""),children:[c!==b.O_.FIS&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"Send Fund"}),(0,n.jsx)("div",{children:(0,_.sy)(null===(t=f)||void 0===t?void 0:t.amount)?(0,n.jsx)(x.G,{height:".16rem"}):(0,n.jsxs)(n.Fragment,{children:[(0,O.uf)(null===(r=f)||void 0===r?void 0:r.amount,{decimals:4})," ",null===(s=f)||void 0===s?void 0:s.tokenName]})})]}),(0,n.jsxs)("div",{className:"flex justify-between mt-[.18rem]",children:[(0,n.jsx)("div",{children:"Tx Fee"}),(0,n.jsx)("div",{children:(0,_.sy)(null===(a=p)||void 0===a?void 0:a.amount)?(0,n.jsx)(x.G,{height:".16rem"}):(0,n.jsxs)(n.Fragment,{children:[(0,O.uf)(null===(l=p)||void 0===l?void 0:l.amount,{decimals:4})," FIS"]})})]}),(0,n.jsx)("div",{className:"mt-[.16rem] h-[1px] bg-color-divider2 mb-[.1rem]"}),(0,n.jsxs)("div",{className:"mt-[.16rem] text-color-text1 flex items-start justify-between",children:[(0,n.jsx)("div",{className:"",children:"Overall Tx Fee"}),(0,n.jsx)("div",{className:"flex items-center",children:(()=>{var e,t,r,s,i,o,a,l,m,d,u,h,v;return c===b.O_.FIS?(0,n.jsx)(n.Fragment,{children:(0,_.sy)(null===(e=p)||void 0===e?void 0:e.amount)||(0,_.sy)(null===(t=N)||void 0===t?void 0:t.amount)?(0,n.jsx)(x.G,{height:".16rem"}):(0,n.jsxs)("div",{children:[(0,O.uf)(Number(null===(r=p)||void 0===r?void 0:r.amount)+Number(null===(s=N)||void 0===s?void 0:s.amount),{decimals:4})," ",null===(i=p)||void 0===i?void 0:i.tokenName]})}):(0,n.jsx)(n.Fragment,{children:(0,_.sy)(null===(o=f)||void 0===o?void 0:o.amount)||(0,_.sy)(null===(a=p)||void 0===a?void 0:a.amount)||(0,_.sy)(null===(l=N)||void 0===l?void 0:l.amount)?(0,n.jsx)(x.G,{height:".16rem"}):(0,n.jsxs)("div",{className:"flex flex-col items-end",children:[(0,n.jsxs)("div",{children:[(0,O.uf)(null===(m=f)||void 0===m?void 0:m.amount,{decimals:4})," ",null===(d=f)||void 0===d?void 0:d.tokenName]}),(0,n.jsxs)("div",{className:"mt-[.06rem]",children:["+",(0,O.uf)(Number(null===(u=p)||void 0===u?void 0:u.amount)+Number(null===(h=N)||void 0===h?void 0:h.amount),{decimals:4})," ",null===(v=p)||void 0===v?void 0:v.tokenName]})]})})})()})]}),(0,n.jsxs)("div",{className:"mt-[.16rem] text-right flex items-center justify-end mb-[.16rem]",children:[(0,n.jsx)("span",{className:"mr-[.04rem]",children:"~$"}),isNaN(Number(j))?(0,n.jsx)(x.G,{height:".16rem"}):(0,O.uf)(j,{decimals:4})]})]})})]})};var M=r(38911),C=r(59868),B=r(21944),E=r(89033),I=r(38350),D=r(7242),H=r(34926),W=r(39024),G=r(36174),P=r(62738),R=r(6181),z=r(75869),U=r(92096),L=r(37918),Z=r.n(L);var $=r(59902),X=r(23935),q=r(92652),K=r(53886),Y=r(37594),V=r(36672),Q=r(56381),J=r(95861);function ee(e,t){const r=(0,j.T)(),{updateFlag15s:n}=(0,h.T)(),{unbondCommision:s,unbondFees:i,bondTxFees:a,bondFees:l,unbondTxFees:m,relayFee:c}=(0,j.C)((t=>{if(e===b.O_.MATIC)return{unbondCommision:t.matic.unbondCommision,unbondFees:t.matic.unbondFees,bondTxFees:t.matic.bondTxFees,unbondTxFees:t.matic.unbondTxFees,bondFees:t.matic.bondFees,relayFee:t.matic.relayFee};if(e===b.O_.BNB){const e=3,r=269319;return{bondFees:"--",unbondFees:t.bnb.rBnbRelayFee.unstake,relayFee:t.bnb.rBnbRelayFee.stake,unbondCommision:t.bnb.rBnbRelayFee.unbondCommision,unbondTxFees:Z().utils.fromWei(Z().utils.toBN(r).mul(Z().utils.toBN(e)).toString(),"gwei")}}return e===b.O_.KSM?{unbondCommision:t.ksm.unbondCommision,unbondFees:t.ksm.unbondFees,bondTxFees:t.ksm.bondTxFees,unbondTxFees:t.ksm.unbondTxFees,bondFees:t.ksm.bondFees,relayFee:"--"}:e===b.O_.DOT?{unbondCommision:t.dot.unbondCommision,unbondFees:t.dot.unbondFees,bondTxFees:t.dot.bondTxFees,unbondTxFees:t.dot.unbondTxFees,bondFees:t.dot.bondFees,relayFee:"--"}:e===b.O_.SOL?{unbondCommision:t.sol.unbondCommision,unbondFees:t.sol.unbondFees,bondTxFees:t.sol.bondTxFees,unbondTxFees:t.sol.unbondTxFees,bondFees:t.sol.bondFees,relayFee:"--"}:e===b.O_.FIS?{unbondCommision:t.fis.unbondCommision,unbondTxFees:t.fis.unbondTxFees,bondTxFees:t.fis.bondTxFees}:{unbondCommision:"--",unbondFees:"--",bondTxFees:"--",unbondTxFees:"--",bondFees:"--",relayFee:"--"}}));return(0,o.useEffect)((()=>{n&&(e===b.O_.BNB?(r((0,J.Z7)()),r((0,J.Ep)())):e===b.O_.KSM?(r((0,g.rX)()),r((0,g.q_)()),r((0,g.Cm)())):e===b.O_.DOT?(r((0,N.m_)()),r((0,N.ZC)()),r((0,N.o$)())):e===b.O_.SOL?(r((0,k.EL)()),r((0,k.pf)()),r((0,k.az)())):e===b.O_.FIS&&(r((0,v.dl)()),r((0,v.TS)(t))))}),[r,e,t,n]),{unbondCommision:s,unbondFees:i,bondTxFees:a,unbondTxFees:m,bondFees:l,relayFee:c}}var te=r(12563),re=r(25675),ne=r.n(re),se=r(11163),ie=r(25648),oe=r(3640),ae=r(15663),le=r(41544),me=r(84815),ce=r(23213),de=r(29321),ue=r(64553),fe=r(61270),xe=r(52049),he=r(59601),be=r(57421),pe=r(81629),Ne=r(92382),ve=r(51164),ge=r(53330),ke=r(69873),Oe=r(18081);const je=e=>{var t;const r=(0,se.useRouter)(),{setDefaultChain:s}=(0,m.k_)(),{switchNetwork:p}=(0,be.g0)(),{tokenName:L}=e,re=(0,j.T)(),{appEnv:je,appNet:ye,darkMode:Te,updateFlag15s:we}=(0,h.T)(),Ae=(0,R.X)(),Fe=(0,w.p)(L),_e=(0,w.p)(b.O_.ETH),Se=(0,K.K)(L),{erc20BridgeFee:Me,bep20BridgeFee:Ce,solBridgeFee:Be,ics20BridgeFee:Ee}=(0,G.x)(L),Ie=(0,o.useMemo)((()=>L===b.O_.SOL?b.Yn.Native:(0,ue.qj)(je,ye)),[je,ye,L]),{txFee:De,bridgeFee:He}=T(e.tokenName,Ie,Ie),We=(0,q.T)(Ie,L),{totalApy:Ge}=(0,Q.E)(L),[Pe,Re]=(0,o.useState)(""),[ze,Ue]=(0,o.useState)(!1),[Le,Ze]=(0,o.useState)(!1),{solanaBalance:$e,metaMaskChainId:Xe,metaMaskAccount:qe,polkadotAccount:Ke,ksmAccount:Ye,dotAccount:Ve,solanaAccount:Qe}=(0,U.P)(),Je=(0,$.O)(),et=(0,P.T)(),tt=(0,U.v)(),{minimumDeposit:rt}=function(e){const{updateFlag15s:t}=(0,h.T)(),{metaMaskAccount:r}=(0,U.P)(),[n,s]=(0,o.useState)();return(0,o.useEffect)((()=>{(async()=>{if(r&&e)try{const e=(0,z.Ql)(),t=(0,I.rw)();let r=new e.eth.Contract((0,E.nA)(),t.userDeposit,{});const n=await r.methods.getMinimumDeposit().call();s(n?Z().utils.fromWei(n):"0")}catch(t){}})()}),[r,t,e]),{minimumDeposit:n}}(L===b.O_.ETH),{ethBalance:nt,goerliEthBalance:st,maticBalance:it,bnbBalance:ot}=(0,X._)(),{stakeLoading:at,isMaticApproved:lt}=(0,j.C)((e=>({stakeLoading:e.app.stakeLoading,isMaticApproved:e.matic.isMaticApproved}))),{bondFees:mt,bondTxFees:ct,relayFee:dt}=ee(L,Ie),ut=(0,A.o_)({variant:"popover",popupId:"maticTxCost"}),ft=(0,A.o_)({variant:"popover",popupId:"tokenList"}),xt=(0,o.useMemo)((()=>(0,ue.Th)(je,ye)),[je,ye]),ht=(0,o.useMemo)((()=>{try{if(L===b.O_.ATOM||L===b.O_.IRIS||L===b.O_.SWTH||L===b.O_.HUAHUA)return(0,l.getChainIdFromRTokenDisplayName)("r"+L,H.gG)}catch(e){}}),[L]),bt=(0,o.useMemo)((()=>{if(ht)try{return(0,l.getRTokenDenom)(ht,H.gG)}catch(e){}}),[ht]),pt=(0,o.useMemo)((()=>{if(!we)return;if(L===b.O_.SOL)return!0;return!!(0,Oe.vo)().find((e=>{var t,r;return("rToken Stake"===e.type||"Stake"===e.type||"Redelegate"===e.type)&&("Error"===e.status||"Pending"===e.status||"Cancelled"===e.status)&&((null===(t=e.stakeLoadingParams)||void 0===t?void 0:t.tokenName)===L||(null===(r=e.redelegateLoadingParams)||void 0===r?void 0:r.tokenName)===L)&&(0,_.Cm)(L)}))}),[L,we]),Nt=(0,Y.B)(H.Q2),vt=(0,Y.B)(ht),{multisigPoolAddress:gt,icaPoolAddress:kt,exchangeRate:Ot,leastBond:jt}=(0,V.W)(bt),{exceedLimit:yt,liquidStakingCap:Tt}=(0,ge.A)(L===b.O_.ATOM?ht:void 0),{noValidValidator:wt}=(0,ke.f)(L===b.O_.ATOM?ht:void 0,Pe),{writeAsync:At}=(0,be.GG)({address:(0,I.rw)().userDeposit,abi:(0,E.nA)(),functionName:"deposit",args:[],chainId:(0,D.JB)()}),{writeAsync:Ft}=(0,be.GG)({address:(0,I.Up)(),abi:(0,E.S5)(),functionName:"approve",args:[],chainId:(0,D.JB)()}),{writeAsync:_t}=(0,be.GG)({address:(0,I.Tk)().rMATIC,abi:(0,E.KC)(),functionName:"stake",args:[],chainId:(0,D.JB)()}),{writeAsync:St}=(0,be.GG)({address:(0,C.lc)().rBNB,abi:(0,M.T2)(),functionName:"stake",args:[],chainId:(0,D.Az)()}),Mt=(0,o.useMemo)((()=>{let e;if(L===b.O_.ETH)e=nt;else if(L===b.O_.MATIC)e=it;else if(L===b.O_.BNB){if(!isNaN(Number(ot))){e=Math.max(0,Number(ot)-3e-4)+""}}else if(L===b.O_.KSM){if(!isNaN(Number(Je))){e=Math.max(0,Number(Je)-.01)+""}}else if(L===b.O_.DOT){if(!isNaN(Number(et))){e=Math.max(0,Number(et)-1.02)+""}}else if(L===b.O_.SOL)e=$e;else if(L===b.O_.FIS){e=Math.max(0,Number(tt)-.05)+""}else if((L===b.O_.ATOM||L===b.O_.IRIS||L===b.O_.SWTH||L===b.O_.HUAHUA)&&vt&&ht){const t=H.gG[ht].stakeReserveAmount||.05;e=Math.max(0,Number((0,xe.UH)(vt.allBalances,(0,l.getDenom)(ht,H.gG)))-t)+""}return e||"--"}),[L,nt,it,ot,Je,et,$e,tt,vt,ht]),Ct=(0,o.useMemo)((()=>L===b.O_.ETH||L===b.O_.MATIC||L===b.O_.BNB?!qe:L===b.O_.KSM?!Ye||!Ke:L===b.O_.DOT?!Ve||!Ke:L===b.O_.SOL?!Qe||!Ke:L===b.O_.FIS?je===b.rz.Ethereum?!Ke||!qe:!Ke:L===b.O_.ATOM||L===b.O_.IRIS||L===b.O_.SWTH||L===b.O_.HUAHUA?!vt||!Nt:void 0),[L,qe,Ke,Ye,Ve,Qe,vt,Nt,je]),Bt=(0,o.useMemo)((()=>L===b.O_.ETH?Number(Xe)!==(0,D.JB)():L===b.O_.BNB?Number(Xe)!==(0,D.Az)():L===b.O_.MATIC&&Number(Xe)!==(0,D.JB)()),[Xe,L]),Et=(0,o.useMemo)((()=>L===b.O_.ETH?(0,D.ob)():L===b.O_.BNB?(0,D.RU)():L===b.O_.MATIC&&(0,D.ob)()),[L]),It=(0,o.useMemo)((()=>{if(Pe&&!isNaN(Number(Pe))&&0!==Number(Pe)&&!isNaN(Number(Fe)))return Number(Pe)*Number(Fe)}),[Pe,Fe]),Dt=(0,o.useMemo)((()=>isNaN(Number(Pe))||isNaN(Number(Se))||0===Number(Pe)?"--":Number(Pe)/Number(Se)+""),[Pe,Se]),Ht=(0,o.useMemo)((()=>{if(L===b.O_.KSM)return"0.0005";if(L===b.O_.DOT)return"0.015";if(L===b.O_.SOL)return"0.0001";var e;if(L===b.O_.FIS)return null===(e=De)||void 0===e?void 0:e.amount;let t=146316,r=Number(Ae);return L===b.O_.BNB?(t=104526,r=3):L===b.O_.MATIC&&(t=101432,lt||(t+=46179)),L===b.O_.ETH||L===b.O_.MATIC||L===b.O_.BNB?isNaN(r)?"--":Z().utils.fromWei(Z().utils.toBN(t).mul(Z().utils.toBN(r)).toString(),"gwei"):"--"}),[Ae,L,lt,null===(t=De)||void 0===t?void 0:t.amount]),Wt=((0,o.useMemo)((()=>isNaN(Number(Fe))||isNaN(Number(Ht))?"--":Number(Fe)*Number(Ht)),[Fe,Ht]),(0,o.useMemo)((()=>{if(Ie===b.Yn.Native)return isNaN(Number(dt))?"--":Number(dt);{let e="--";return Ie===b.Yn.ERC20&&Me?e=Me:Ie===b.Yn.BEP20&&Ce?e=Ce:Ie===b.Yn.SPL&&Be&&(e=Be),Number(dt)+Number(e)+""}}),[dt,Ie,Me,Ce,Be]),(0,o.useMemo)((()=>{if((0,ue.KE)(L))return"0.05";if(Ie===b.Yn.Native)return isNaN(Number(Ht))||isNaN(Number(Ht))?"--":Number(dt)+Number(Ht)+"";if([b.O_.ETH,b.O_.MATIC].includes(L))return isNaN(Number(Ht))?"--":Number(Ht)+"";{let e="--";return Ie===b.Yn.ERC20&&Me?e=Me:Ie===b.Yn.BEP20&&Ce?e=Ce:Ie===b.Yn.SPL&&Be&&(e=Be),L===b.O_.BNB&&(e="0"),isNaN(Number(Ht))||isNaN(Number(dt))||isNaN(Number(e))?"--":Number(dt)+Number(Ht)+Number(e)+""}}),[dt,Ht,Ie,Me,L,Ce,Be])),Gt=(0,o.useMemo)((()=>L===b.O_.MATIC?isNaN(Number(Wt))||isNaN(Number(_e))?"--":Number(Wt)*Number(_e)+"":isNaN(Number(Wt))||isNaN(Number(Fe))?"--":Number(Wt)*Number(Fe)+""),[Wt,Fe,L,_e]),Pt=(0,o.useMemo)((()=>{var e,t;if((L===b.O_.KSM||L===b.O_.DOT||L===b.O_.SOL)&&Number(tt)<Number(null===(e=De)||void 0===e?void 0:e.amount)+Number(null===(t=He)||void 0===t?void 0:t.amount))return!0;return!1}),[L,tt,De,He]),[Rt,zt,Ut]=(0,o.useMemo)((()=>{if(yt)return[!0,"Stake",!1];if(Ct)return(0,ue.KE)(L)&&(Nt||vt)?vt?[!1,`Connect ${(0,l.getDisplayHubName)(H.Q2,H.gG)}`]:[!1,`Connect ${(0,l.getDisplayHubName)(ht,H.gG)}`]:[!1,"Connect Wallet"];if(Bt)return[!1,`Wrong network, click to change into ${Et}`,!0];if(!Pe||isNaN(Number(Pe))||0===Number(Pe)||isNaN(Number(Mt)))return[!0,"Stake"];if(L===b.O_.ETH){if(Number(Pe)<Number(rt))return[!0,`Minimal Stake Amount is ${rt} ${L}`]}else if((0,ue.KE)(L)){if(Number(Pe)<Number(jt))return[!0,`Minimal Stake Amount is ${jt} ${L}`]}else if(Number(Pe)<y.Fn)return[!0,`Minimal Stake Amount is ${y.Fn} ${L}`];if(L===b.O_.MATIC){if(Number(Pe)>Number(Mt))return[!0,"Not Enough MATIC to Stake"]}else if(Number(Pe)+(isNaN(Number(Ht))?0:1.4*Number(Ht))>Number(Mt))return[!0,`Not Enough ${L} to Stake`];return L!==b.O_.ATOM&&L!==b.O_.IRIS&&L!==b.O_.SWTH&&L!==b.O_.HUAHUA||gt||kt?Pt?[!1,"Insufficient FIS. Top up 2 FIS now",!0]:(L!==b.O_.ETH||At)&&(L!==b.O_.MATIC||Ft&&_t)&&(L!==b.O_.BNB||St)?[!1,"Stake"]:[!0,"Initializing"]:[!0,"Invalid Pool Address"]}),[yt,Bt,Mt,Pe,Ct,L,gt,kt,Pt,Et,rt,jt,Ht,At,_t,Ft,St,Nt,vt,ht]),Lt=(0,o.useMemo)((()=>L===b.O_.ETH||L===b.O_.MATIC||L===b.O_.BNB?qe:L===b.O_.FIS?je===b.rz.Ethereum?qe:Ke:L===b.O_.KSM||L===b.O_.DOT||L===b.O_.SOL?Ke:""),[L,Ke,qe,je]),Zt=(0,o.useMemo)((()=>isNaN(Number(We))||isNaN(Number(Pe))||isNaN(Number(Se))?"--":Number(We)+Number(Pe)/Number(Se)+""),[We,Se,Pe]),$t=()=>{Re("")},Xt=()=>{var e;const t=kt||gt;re((0,me.IF)(L,ht,Pe,Dt,Zt,(null===(e=Nt)||void 0===e?void 0:e.bech32Address)||"",t,(()=>{$t()})))};return(0,o.useEffect)((()=>{L===b.O_.MATIC&&re((0,ae.wH)())}),[re,L]),(0,n.jsxs)("div",{children:[yt?(0,n.jsxs)("div",{className:"mt-[.16rem] cursor-pointer h-[.56rem] mx-[.24rem] bg-[#6C86AD14] dark:bg-[#6C86AD50] rounded-[.16rem] flex items-center justify-between pl-[.12rem] pr-[.18rem]",onClick:()=>{(0,_.nG)("https://dao.stafi.io/t/sip-8-stafi-lsm-integration-proposal/116")},children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(u.j,{icon:"tip",size:".2rem"}),(0,n.jsxs)("div",{className:"ml-[.06rem] text-color-text2 text-[.14rem] leading-normal",children:["Stake is currently disabled because LSM has reached its"," ",(0,O.uf)(100*Number(Tt),{decimals:0}),"% cap"]})]}),(0,n.jsx)(u.j,{icon:"right",color:"#6C86AD",size:".11rem"})]}):pt?(0,n.jsxs)("div",{className:"mt-[.16rem] cursor-pointer h-[.56rem] mx-[.24rem] bg-[#6C86AD14] dark:bg-[#6C86AD50] rounded-[.16rem] flex items-center justify-between pl-[.12rem] pr-[.18rem]",onClick:()=>{re((0,ie.J4)(L)),re((0,ie.Oz)(!0))},children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(u.j,{icon:"tip",size:".2rem"}),(0,n.jsx)("div",{className:"ml-[.06rem] text-color-text2 text-[.14rem] leading-normal",children:"Failed to finish staking? Submit TX info and get recovery"})]}),(0,n.jsx)(u.j,{icon:"right",color:"#6C86AD",size:".11rem"})]}):null,(0,n.jsx)("div",{className:"h-[1.07rem] mt-[.18rem] pt-[.24rem] mx-[.24rem] bg-color-bgPage rounded-[.3rem]",children:(0,n.jsxs)("div",{className:"mx-[.12rem] flex items-start",children:[(0,n.jsxs)("div",{className:"h-[.42rem] bg-color-bg2 rounded-[.3rem] flex items-center cursor-pointer",...(0,A.vW)(ft),children:[(0,n.jsxs)("div",{className:"ml-[.08rem] flex items-center",children:[(0,n.jsx)("div",{className:"w-[.34rem] h-[.34rem] relative",children:(0,n.jsx)(ne(),{src:(0,de.YX)(L),alt:"logo",layout:"fill"})}),(0,n.jsx)("div",{className:"text-color-text1 text-[.16rem] ml-[.16rem]",children:L})]}),(0,n.jsx)("div",{className:"ml-[.16rem] mr-[.16rem]",children:(0,n.jsx)(u.j,{icon:"arrow-down",size:".1rem",color:"#848B97"})})]}),(0,n.jsxs)("div",{className:"flex-1 flex justify-start flex-col pl-[.14rem]",children:[(0,n.jsxs)("div",{className:"flex items-center h-[.42rem]",children:[(0,n.jsx)(ve.a,{value:Pe,handleValueChange:Re,fontSize:".24rem",placeholder:"Amount"}),(0,n.jsx)("div",{children:(0,n.jsx)(Ne.o,{type:"stroke",width:".63rem",height:".36rem",fontSize:".16rem",className:"bg-color-bg1 border-color-border1",onClick:()=>{if(Bt||Ct||isNaN(Number(Mt)))return;let e=Number(Mt);if(L===b.O_.MATIC)e=Number(Mt);else if(L===b.O_.BNB){if(isNaN(Number(Wt)))return;e=Math.max(Number(Mt)-Number(Wt)-.01,0)}else if(L===b.O_.FIS){var t,r,n,s;if(isNaN(Number(null===(t=He)||void 0===t?void 0:t.amount))||isNaN(Number(null===(r=De)||void 0===r?void 0:r.amount)))return;e=Math.max(Number(Mt)-1.5*Number(null===(n=De)||void 0===n?void 0:n.amount)-Number(null===(s=He)||void 0===s?void 0:s.amount),0)}else if((0,ue.KE)(L)){const t=H.gG[H.Q2].stakeReserveAmount||y._F;e=Number(Mt)-Number(t)}else{if(isNaN(Number(Ht)))return;e=Math.max(Number(Mt)-1.5*Number(Ht),0)}Number(e)>0&&Re((0,O.uf)(e.toString(),{toReadable:!1,withSplit:!1}))},children:"Max"})})]}),(0,n.jsxs)("div",{className:"mt-[.1rem] flex items-center justify-between text-[.14rem]",children:[(0,n.jsxs)("div",{className:"text-color-text2",children:[It?`$${(0,O.uf)(It,{decimals:2})}`:""," "]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"text-color-text2",children:"Balance"}),(0,n.jsx)("div",{className:"ml-[.06rem] text-color-text1",children:(0,O.uf)(Mt)})]})]})]})]})}),(0,n.jsx)(Ne.o,{loading:at,disabled:Rt,mt:".18rem",className:"mx-[.24rem]",height:".56rem",type:Ut?"secondary":"primary",onClick:()=>{if(Ct||Bt)(()=>{if(L!==b.O_.KSM)if(L===b.O_.DOT)re((0,ce.rF)(!0,b.Sq.Polkadot_DOT));else if(L===b.O_.ETH||L===b.O_.MATIC)if(qe){if(Bt)p&&p((0,D.JB)())}else s(W.S1),re((0,ie.Q)(!0));else if(L===b.O_.BNB)if(qe){if(Bt)p&&p((0,D.Az)())}else s(W.S1),re((0,ie.Q)(!0));else if(L===b.O_.SOL){if(!Ke)return void re((0,ce.rF)(!0,b.Sq.Polkadot));if(!Qe)re((0,ce.GM)(!1))}else if(L===b.O_.FIS){if(!Ke)re((0,ce.rF)(!0,b.Sq.Polkadot))}else L!==b.O_.ATOM&&L!==b.O_.IRIS&&L!==b.O_.SWTH&&L!==b.O_.HUAHUA||re((0,ce.o2)([H.Q2,ht]));else re((0,ce.rF)(!0,b.Sq.Polkadot_KSM))})();else if(Pt)je===b.rz.Cosmos?re((0,ie.Po)(!0)):re((0,ie.ll)(!0));else if(L===b.O_.ETH)s((0,B.r8)()?pe.ws:pe.RJ),re((0,oe.FQ)(At,b.Yn.ERC20,Number(Pe)+"",Dt,Zt,!1,(e=>{re((0,oe.lK)()),e&&(Re(""),re((0,le.G)(b.Yn.ERC20,L)),re((0,ie.ZD)()))})));else if(L===b.O_.MATIC)re((0,ae.kv)(Ft,_t,Number(Pe)+"",Dt,Lt||"",Zt,!1,(e=>{e&&($t(),re((0,le.G)(Ie,L)),re((0,ie.ZD)()))})));else if(L===b.O_.KSM)re((0,g.xV)(Number(Pe)+"",Dt,Ie,Lt||"",Zt,!1,(e=>{e&&($t(),re((0,le.G)(Ie,L)),re((0,ie.ZD)()))})));else if(L===b.O_.DOT)re((0,N.qT)(Number(Pe)+"",Dt,Ie,Lt||"",Zt,!1,(e=>{e&&($t(),re((0,le.G)(Ie,L)),re((0,ie.ZD)()))})));else if(L===b.O_.SOL)re((0,k.G3)(Number(Pe)+"",Dt,Ie,Lt||"",Zt,!1,(e=>{e&&($t(),re((0,le.G)(Ie,L)),re((0,ie.ZD)()))})));else if(L===b.O_.BNB){if(isNaN(Number(dt)))return void fe.Z.error(y.Vx);re((0,J.KS)(St,Number(Pe)+"",Dt,Lt||"",Zt,dt+"",!1,(e=>{e&&($t(),re((0,le.G)(Ie,L)),re((0,ie.ZD)()))})))}else if(L===b.O_.FIS)re((0,v.eM)(Number(Pe)+"",Dt,Ie,Lt||"",Zt,!1,(e=>{e&&($t(),re((0,le.G)(Ie,L)),re((0,ie.ZD)()))})));else if(L===b.O_.ATOM||L===b.O_.IRIS||L===b.O_.SWTH||L===b.O_.HUAHUA){if(L===b.O_.ATOM&&wt)return void fe.Z.error("Stake disabled: rATOM validator self-bond cap reached");if(!(0,he.cF)(he.zi))return void Ze(!0);Xt()}},children:(0,n.jsxs)("div",{className:"flex items-center",children:[zt,(zt.indexOf("Wrong network")>=0||zt.indexOf("Insufficient FIS.")>=0)&&(0,n.jsx)("div",{className:"ml-[.12rem] flex items-center",children:(0,n.jsx)(u.j,{icon:"arrow-right",size:".12rem",color:"#222C3C"})})]})}),(0,n.jsxs)("div",{className:"mx-[.75rem] mt-[.24rem] grid items-stretch font-[500]",style:{gridTemplateColumns:"40% 30% 30%"},children:[(0,n.jsx)("div",{className:"flex justify-start ml-[.18rem]",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"text-text2/50 dark:text-text2Dark/50 text-[.14rem]",children:"Will Receive"}),(0,n.jsxs)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem]",children:[(0,O.xy)(Dt)," r",L]})]})}),(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"text-text2/50 dark:text-text2Dark/50 text-[.14rem]",children:"APR"}),void 0!==Ge?(0,n.jsxs)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem]",children:[(0,O.uf)(Ge,{decimals:2,toReadable:!1}),"%"]}):(0,n.jsx)("div",{className:"mt-[.1rem]",children:(0,n.jsx)(x.G,{height:".16rem"})})]}),(0,n.jsx)("div",{className:"flex justify-end mr-[.0rem]",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"text-text2/50 dark:text-text2Dark/50 text-[.14rem]",children:"Est. Cost"}),(0,ue.KE)(L)||[b.O_.ETH,b.O_.MATIC].includes(L)?(0,n.jsxs)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem]",children:["$",(0,O.uf)(Gt,{decimals:2})]}):[b.O_.BNB].includes(L)?(0,n.jsxs)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem] flex cursor-pointer items-center",...(0,A.b8)(ut),children:["$",(0,O.uf)(Gt,{decimals:2}),(0,n.jsx)("div",{className:i()("flex items-center relative ml-[.1rem] self-center",ut.isOpen?" rotate-[270deg]":" rotate-90"),children:(0,n.jsx)(u.j,{icon:"right",layout:"fill",alt:"down",size:".12rem",color:Te?"#FFFFFF80":"#6C86AD"})})]}):(0,n.jsx)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem]",children:(0,n.jsx)(S,{tokenName:L,selectedTokenStandard:Ie})})]})})]}),(0,n.jsx)(f.T,{visible:Le,tokenName:L,onClose:()=>{Ze(!1)},onConfirm:()=>{Ze(!1),(0,he.Ot)(he.zi,"1"),Xt()}}),(0,n.jsx)(F.Z,{...(0,te.ZW)(ut),transformOrigin:{horizontal:"center",vertical:"top"},anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{marginTop:".15rem","& .MuiPopover-paper":{background:Te?"#6C86AD4D":"#ffffff80",border:Te?"0.01rem solid #6C86AD80":"0.01rem solid #FFFFFF",backdropFilter:"blur(.4rem)",borderRadius:".3rem"},"& .MuiTypography-root":{padding:"0rem"},"& .MuiBox-root":{padding:"0rem"}},children:(0,n.jsxs)("div",{className:i()("text-color-text2 w-[2.5rem] p-[.16rem] text-[.14rem]",Te?"dark":""),children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"Relay Fee"}),(0,n.jsxs)("div",{children:[(0,_.O2)(dt)?(0,n.jsx)(c.S,{}):(0,O.uf)(dt,{decimals:4})," ",L===b.O_.BNB?"BNB":"ETH"]})]}),(0,n.jsxs)("div",{className:"flex justify-between my-[.16rem]",children:[(0,n.jsx)("div",{children:"Tx Fee"}),(0,n.jsxs)("div",{children:[(0,_.O2)(Ht)?(0,n.jsx)(c.S,{}):(0,O.uf)(Ht,{decimals:4})," ",L===b.O_.BNB?"BNB":"ETH"]})]}),(0,n.jsx)("div",{className:"h-[1px] bg-color-popoverDivider my-[.1rem]"}),(0,n.jsxs)("div",{className:"text-color-text1 flex items-start justify-between mt-[.16rem]",children:[(0,n.jsx)("div",{children:"Overall Tx Fee"}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,_.O2)(Wt)?(0,n.jsx)(c.S,{}):(0,O.uf)(Wt,{decimals:4})," ",L===b.O_.BNB?"BNB":"ETH"]})]}),(0,n.jsxs)("div",{className:"mt-[.16rem] text-right flex items-center justify-end mb-[.16rem]",children:["~$",(0,_.O2)(Gt)?(0,n.jsx)(c.S,{}):(0,O.uf)(Gt,{decimals:4})]})]})}),(0,n.jsx)(a.ZP,{...(0,te.ZW)(ft),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},elevation:0,sx:{marginTop:".15rem","& .MuiPopover-paper":{background:Te?"#6C86AD4D":"#ffffff80",border:Te?"0.01rem solid #6C86AD80":"0.01rem solid #FFFFFF",backdropFilter:"blur(.4rem)",borderRadius:".3rem"},"& .MuiTypography-root":{padding:"0px"},"& .MuiBox-root":{padding:"0px"}},children:(0,n.jsxs)("div",{className:i()("w-[2.8rem] max-h-[6rem] overflow-auto",Te?"dark":""),children:[(0,n.jsx)("div",{className:"text-color-text1 text-[.16rem] mt-[.2rem] ml-[.12rem] mb-[.1rem]",children:"Choose Token Type"}),0===xt.length&&(0,n.jsx)("div",{className:"flex justify-center my-[.4rem]",children:(0,n.jsx)(d.z,{size:"0.6rem"})}),xt.map(((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between h-[.5rem] cursor-pointer mx-[.12rem]",onClick:()=>{ft.close(),ye?r.push({pathname:`/gallery/[eco]/${e.tokenName}`,query:{...r.query,eco:je,net:ye}},void 0,{scroll:!1}):r.push(`/gallery/${je}/${e.tokenName}`)},children:[(0,n.jsxs)("div",{className:"flex items-center ",children:[(0,n.jsx)("div",{className:"w-[.2rem] h-[.2rem] relative",children:(0,n.jsx)(ne(),{alt:"logo",layout:"fill",src:e.icons.tokenIcon})}),(0,n.jsx)("div",{className:"ml-[.06rem] text-color-text1 text-[.14rem]",children:e.tokenName})]}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("div",{className:"ml-[.12rem]",children:L===e.tokenName?(0,n.jsx)(u.j,{icon:"checked-circle",size:".16rem",color:"#5A5DE0"}):(0,n.jsx)("div",{className:"w-[.16rem] h-[.16rem] rounded-full border-solid border-[1px] border-color-border3"})})})]}),t!==xt.length-1&&(0,n.jsx)("div",{className:"h-[1px] mx-[.12rem] bg-color-popoverDivider"})]},e.tokenName)))]})})]})};var ye=r(18269);var Te=r(27678);var we=r(15941);var Ae=r(41664),Fe=r.n(Ae);var _e=r(57944),Se=r(97830);const Me=e=>{var t;const r=(0,se.useRouter)(),{setDefaultChain:s}=(0,m.k_)(),{switchNetwork:c}=(0,be.g0)(),{tokenName:f}=e,p=(0,j.T)(),{appEnv:T,darkMode:S,appNet:B}=(0,h.T)(),{metaMaskAccount:G,metaMaskChainId:P,polkadotAccount:L,solanaAccount:$,ksmAccount:re,dotAccount:he}=(0,U.P)(),pe=(0,U.v)(),{ethBalance:ge}=(0,X._)(),ke=(0,R.X)(),Oe=(0,w.p)(f),je=(0,w.p)(b.O_.FIS),Ae=(0,w.p)(b.O_.ETH),Me=(0,w.p)("r"+f),Ce=(0,K.K)(f),Be=(0,A.o_)({variant:"popover",popupId:"txCost"}),Ee=(0,A.o_)({variant:"popover",popupId:"tokenList"}),Ie=(0,o.useMemo)((()=>(0,ue.Th)(T,B)),[T,B]),De=(0,o.useMemo)((()=>f===b.O_.SOL?b.Yn.Native:(0,ue.qj)(T,B)),[T,B,f]),He=(0,o.useMemo)((()=>f===b.O_.ETH||f===b.O_.MATIC?De===b.Yn.ERC20:f===b.O_.BNB?De===b.Yn.BEP20:(0,ue.KE)(f)?De===b.Yn.ICS20:De===b.Yn.Native),[De,f]),{unbondCommision:We,unbondFees:Ge,unbondTxFees:Pe}=ee(f,De||b.Yn.Native),Re=(0,q.T)(De,f),ze=(0,o.useMemo)((()=>e.tokenName===b.O_.KSM?(0,Se.cn)(re,b.Sq.Polkadot_KSM):e.tokenName===b.O_.DOT?(0,Se.cn)(he,b.Sq.Polkadot_DOT):e.tokenName===b.O_.SOL?$:e.tokenName===b.O_.FIS?L:G),[e.tokenName,G,$,L,re,he]),{totalApy:Ue}=(0,Q.E)(f),{userWithdrawAmountAtCycle:Le,withdrawLimitPerCycle:Ze,userWithdrawLimitPerCycle:$e,totalWithdrawAmountAtCycle:Xe}=function(e){const{metaMaskAccount:t}=(0,U.P)(),[r,n]=(0,o.useState)(""),[s,i]=(0,o.useState)(""),[a,l]=(0,o.useState)(""),[m,c]=(0,o.useState)("");return(0,o.useEffect)((()=>{t&&e===b.O_.ETH&&(async()=>{const e=(0,z.Ql)(),r=(0,I.rw)(),s=new e.eth.Contract((0,E.Bl)(),r.withdrawProxy,{from:t});(async()=>{const e=await s.methods.currentWithdrawCycle().call().catch((e=>{})),r=(async()=>{const e=await s.methods.withdrawLimitPerCycle().call().catch((e=>{}));n((0,ye.fromWei)(e))})(),o=(async()=>{const e=await s.methods.userWithdrawLimitPerCycle().call().catch((e=>{}));i((0,ye.fromWei)(e))})(),a=(async()=>{const t=await s.methods.totalWithdrawAmountAtCycle(e).call().catch((e=>{}));l((0,ye.fromWei)(t))})(),m=(async()=>{const r=await s.methods.userWithdrawAmountAtCycle(t,e).call().catch((e=>{}));r&&c((0,ye.fromWei)(r))})();await Promise.all([r,o,a,m])})()})()}),[t,e]),{withdrawLimitPerCycle:r,userWithdrawLimitPerCycle:s,totalWithdrawAmountAtCycle:a,userWithdrawAmountAtCycle:m}}(f),[qe,Ke]=(0,o.useState)(""),[Ye,Ve]=(0,o.useState)(!1),{unstakeLoading:Qe,unbondingDuration:Je,isRMaticApproved:et}=(0,j.C)((e=>({unstakeLoading:e.app.unstakeLoading,unbondingDuration:f===b.O_.BNB?e.bnb.unbondingDuration:f===b.O_.MATIC?e.matic.unbondingDuration:void 0,isRMaticApproved:e.matic.isRMaticApproved}))),tt=(0,o.useMemo)((()=>{try{if(f===b.O_.ATOM||f===b.O_.IRIS||f===b.O_.SWTH||f===b.O_.HUAHUA)return(0,l.getChainIdFromRTokenDisplayName)("r"+f,H.gG)}catch(e){}}),[f]),rt=(0,o.useMemo)((()=>{if(tt)try{return(0,l.getRTokenDenom)(tt,H.gG)}catch(e){}}),[tt]),nt=(0,Y.B)(H.Q2),st=(0,Y.B)(tt),{multisigPoolAddress:it,icaPoolAddress:ot,exchangeRate:at,leastBond:lt}=(0,V.W)(rt),{relayFee:mt}=function(e){const[t,r]=(0,o.useState)("--");return(0,o.useEffect)((()=>{(async()=>{if(!e)return;const t=(0,l.getRTokenDenom)(e,H.gG),n=await(0,Te.queryUnbondRelayFee)(H.gG[H.Q2],t);var s,i;n&&r((0,we.atomicToHuman)(null===(i=n.fee)||void 0===i||null===(s=i.value)||void 0===s?void 0:s.amount)||"--")})()}),[e]),{relayFee:t}}(tt),{bondingDays:ct,bondingHours:dt}=function(e){const[t,r]=(0,o.useState)("--"),[n,s]=(0,o.useState)("--"),[i,a]=(0,o.useState)("--"),[l,m]=(0,o.useState)("--");return(0,o.useEffect)((()=>{(async()=>{if(!e)return;const t=await(0,Te.queryRParams)(H.gG[H.Q2],e);if(t.rParams){r(t.rParams.eraSeconds.toString());const e=Math.round(Number(t.rParams.eraSeconds)/3600);s(e.toString()),a((t.rParams.bondingDuration*e).toString()),m(Math.round(t.rParams.bondingDuration*e/24).toString())}})()}),[e]),{eraSeconds:t,eraHours:n,bondingDays:l,bondingHours:i}}(rt),ut=(0,xe.UH)(null===(t=nt)||void 0===t?void 0:t.allBalances,(0,l.getDenom)(H.Q2,H.gG),(0,l.getChainDecimals)(H.Q2,H.gG)),{writeAsync:ft}=(0,be.GG)({address:(0,I.rw)().withdrawProxy,abi:(0,E.Bl)(),functionName:"unstake",args:[],chainId:(0,D.JB)()}),{writeAsync:xt}=(0,be.GG)({address:(0,I.Si)().rETH,abi:(0,E.Fz)(),functionName:"approve",args:[],chainId:(0,D.JB)()}),{writeAsync:ht}=(0,be.GG)({address:(0,C.lc)().rBNB,abi:(0,M.T2)(),functionName:"unstake",args:[],chainId:(0,D.Az)()}),{writeAsync:bt}=(0,be.GG)({address:(0,C.mj)().rBNB,abi:(0,M.Ni)(),functionName:"approve",args:[],chainId:(0,D.Az)()}),{writeAsync:pt}=(0,be.GG)({address:(0,I.Si)().rMATIC,abi:(0,E.j2)(),functionName:"approve",args:[],chainId:(0,D.JB)()}),{writeAsync:Nt}=(0,be.GG)({address:(0,I.Tk)().rMATIC,abi:(0,E.KC)(),functionName:"unstake",args:[],chainId:(0,D.JB)()});(0,o.useEffect)((()=>{ze&&(f===b.O_.KSM?p((0,g.WA)(qe||"1",ze)):f===b.O_.DOT?p((0,N.Tx)(qe||"1",ze)):f===b.O_.SOL?p((0,k.qF)(qe||"1",ze)):f===b.O_.FIS&&p((0,v.y2)("0",ze)))}),[p,ze,qe,f]);const vt=(0,o.useMemo)((()=>{if(f===b.O_.ATOM||f===b.O_.IRIS||f===b.O_.SWTH||f===b.O_.HUAHUA)return!st&&!nt;if(f===b.O_.FIS){if(T===b.rz.Ethereum)return!G;if(T===b.rz.Polkadot)return!L}return f===b.O_.ETH||f===b.O_.BNB||f===b.O_.MATIC?!G:!L}),[G,st,nt,f,T,L]),gt=(0,o.useMemo)((()=>vt?"--":Re),[Re,vt]),kt=(0,o.useMemo)((()=>f===b.O_.ETH?Number(P)!==(0,D.JB)():f===b.O_.BNB?Number(P)!==(0,D.Az)():f===b.O_.MATIC&&Number(P)!==(0,D.JB)()),[P,f]),Ot=(0,o.useMemo)((()=>f===b.O_.ETH?(0,D.ob)():f===b.O_.BNB?(0,D.RU)():f===b.O_.MATIC&&(0,D.ob)()),[f]),jt=(0,o.useMemo)((()=>{if(qe&&!isNaN(Number(qe))&&0!==Number(qe)&&!isNaN(Number(Me)))return Number(qe)*Number(Me)}),[qe,Me]),yt=(0,o.useMemo)((()=>{let e=261659;return f===b.O_.MATIC&&(e=264979,et||(e+=46179)),f===b.O_.ETH||f===b.O_.MATIC?isNaN(Number(ke))?"--":Z().utils.fromWei(Z().utils.toBN(e).mul(Z().utils.toBN(ke)).toString(),"gwei"):"--"}),[ke,f,et]),Tt=(0,o.useMemo)((()=>(b.O_.ETH,"0")),[f]),wt=(0,o.useMemo)((()=>isNaN(Number(qe))||isNaN(Number(Ce))||0===Number(qe)?"--":Number(qe)*Number(Ce)-Number(Tt)+""),[qe,Ce,Tt]),At=(0,o.useMemo)((()=>(0,ue.KE)(f)?isNaN(Number(je))||isNaN(Number(mt))?"--":Number(je)*(Number(mt)+.01):f===b.O_.MATIC?isNaN(Number(Ae))||isNaN(Number(yt))?"--":Number(Ae)*Number(yt):isNaN(Number(Oe))||isNaN(Number(yt))?"--":Number(Oe)*Number(yt)),[Oe,yt,Ae,f,je,mt]),Ft=(0,o.useMemo)((()=>f===b.O_.BNB?isNaN(Number(Ge))||isNaN(Number(Pe))?"--":Number(Ge)+Number(Pe)+"":f===b.O_.FIS?isNaN(Number(Pe))?"--":Number(Pe)+"":(0,ue.KE)(f)?isNaN(Number(mt))?"--":Number(mt)+.01+"":Number((0,O.uf)(_e.Z.fisAmountToHuman(Ge),{decimals:4}))+Number(Pe)+""),[f,Ge,Pe,mt]),_t=(0,o.useMemo)((()=>f===b.O_.BNB?isNaN(Number(Ft))||isNaN(Number(Oe))?"--":Number(Ft)*Number(Oe)+"":isNaN(Number(Ft))||isNaN(Number(je))?"--":Number(Ft)*Number(je)+""),[je,f,Ft,Oe]),St=(0,o.useMemo)((()=>(0,ue.KE)(f)?Number(ut)<Number(mt)+.01:f!==b.O_.ETH&&Number(pe)<Number(Ft)),[f,pe,Ft,ut,mt]),[Mt,Ct,Bt]=(0,o.useMemo)((()=>{if(vt)return[!1,"Connect Wallet"];if(kt)return[!1,`Wrong network, click to change into ${Ot}`,!0];if(!He)return[!0,"Unstake",!1];if(!qe||isNaN(Number(qe))||0===Number(qe)||isNaN(Number(gt)))return[!0,"Unstake"];if(Number(qe)>Number(gt))return[!0,`Not Enough r${f} to Unstake`];if(f===b.O_.ETH){if((isNaN(Number(yt))?0:1.4*Number(yt))>Number(ge))return[!0,`Not Enough ${f} for Fee`];if(Number(qe)>Number($e))return[!0,"Daily unstaking Limit Reached"];if(Number(qe)+Number(Xe)>Number(Ze)||Number(qe)+Number(Le)>Number($e))return[!0,"Daily unstaking Limit Reached"]}return St?[!1,"Insufficient FIS. Top up 2 FIS now",!0]:(f!==b.O_.ETH||xt&&ft)&&(f!==b.O_.MATIC||pt&&Nt)&&(f!==b.O_.BNB||bt&&ht)?[!1,"Unstake"]:[!0,"Initializing",!1]}),[kt,gt,qe,vt,yt,f,ge,Le,Xe,Ze,$e,St,Ot,He,xt,ft,pt,Nt,bt,ht]),Et=(0,o.useMemo)((()=>isNaN(Number(gt))||isNaN(Number(qe))?"--":Number(gt)-Number(qe)+""),[gt,qe]),It=()=>{Ke("")},Dt=()=>{r.replace({pathname:r.pathname,query:{...r.query,tab:"withdraw"}})};return(0,o.useEffect)((()=>{f===b.O_.BNB?p((0,J.Up)()):f===b.O_.FIS?p((0,v.y2)("0",L+"")):f===b.O_.MATIC&&(p((0,ae.xE)()),p((0,ae.bS)()))}),[p,f,L]),(0,n.jsxs)("div",{children:[!He&&(0,n.jsx)("div",{className:"h-[.56rem] mt-[.18rem] mx-[.24rem] bg-[#6C86AD14] dark:bg-[#6C86AD50] rounded-[.16rem] flex items-center justify-between pl-[.12rem] pr-[.18rem]",onClick:()=>{},children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(u.j,{icon:"tip",size:".2rem"}),(0,n.jsxs)("div",{className:"ml-[.06rem] text-color-text2 text-[.14rem]",children:[De," r",f," can't be unstaked, please bridge r",f," to StaFi Chain first"]})]})}),He&&(f===b.O_.ETH||f===b.O_.FIS||f===b.O_.BNB||f===b.O_.MATIC?(0,n.jsxs)("div",{className:"cursor-pointer h-[.56rem] mt-[.18rem] mx-[.24rem] bg-[#6C86AD14] dark:bg-[#6C86AD50] rounded-[.16rem] flex items-center justify-between pl-[.12rem] pr-[.18rem]",onClick:()=>{f===b.O_.ETH?(0,_.nG)("https://docs.stafi.io/stakingeth/unstake/"):f===b.O_.BNB?(0,_.nG)("https://docs.stafi.io/stakingbnb/#how-to-unstake"):f===b.O_.FIS?(0,_.nG)("https://docs.stafi.io/stakingfis/#unstake"):f===b.O_.MATIC&&(0,_.nG)("https://docs.stafi.io/stakingmatic/#unstake")},children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(u.j,{icon:"tip",size:".2rem"}),(0,n.jsxs)("div",{className:"ml-[.06rem] text-color-text2 text-[.14rem]",children:["Unstaking may take around"," ",(0,n.jsxs)("span",{className:"text-color-text1",children:[[b.O_.BNB,b.O_.MATIC,b.O_.FIS].includes(f)?(0,ue.uO)(f,Je):"1-5"," ","days"]}),". After that, withdraw function will open"]})]}),(0,n.jsx)(u.j,{icon:"right",color:"#6C86AD",size:".11rem"})]}):(0,ue.KE)(f)?(0,n.jsx)(Fe(),{href:f===b.O_.ATOM?`#${y.SZ}`:f===b.O_.IRIS?`#${y.e_}`:f===b.O_.SWTH?`#${y.xT}`:f===b.O_.HUAHUA?`#${y.vF}`:"",children:(0,n.jsxs)("div",{className:"cursor-pointer h-[.56rem] mt-[.18rem] mx-[.24rem] bg-[#6C86AD14] dark:bg-[#6C86AD50] rounded-[.16rem] flex items-center justify-between pl-[.12rem] pr-[.18rem]",onClick:()=>{p((0,ie.BG)(f===b.O_.ATOM?`${y.SZ}`:f===b.O_.IRIS?`${y.e_}`:f===b.O_.SWTH?`${y.xT}`:f===b.O_.HUAHUA?`${y.vF}`:void 0))},children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(u.j,{icon:"tip",size:".2rem"}),(0,n.jsxs)("div",{className:"ml-[.06rem] text-color-text2 text-[.14rem] flex items-center",children:["Unstaking may take around"," ",(0,n.jsx)("span",{className:"text-color-text1 mx-[.04rem]",children:Number(ct)>0?`${ct} ${Number(ct)>1?"days":"day"}`:isNaN(Number(dt))?(0,n.jsx)("div",{className:"",children:(0,n.jsx)(x.G,{height:".14rem"})}):`${dt} ${Number(dt)>1?"hours":"hour"}`})," ","to complete"]})]}),(0,n.jsx)(u.j,{icon:"right",color:"#6C86AD",size:".11rem"})]})}):(0,n.jsx)(Fe(),{href:f===b.O_.DOT?`#${y.tY}`:f===b.O_.KSM?`#${y.id}`:f===b.O_.SOL?`#${y.MC}`:"",children:(0,n.jsxs)("div",{className:"cursor-pointer h-[.56rem] mt-[.18rem] mx-[.24rem] bg-[#6C86AD14] dark:bg-[#6C86AD50] rounded-[.16rem] flex items-center justify-between pl-[.12rem] pr-[.18rem]",onClick:()=>{p((0,ie.BG)(f===b.O_.DOT?`${y.tY}`:f===b.O_.KSM?`${y.id}`:f===b.O_.SOL?`${y.MC}`:void 0))},children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(u.j,{icon:"tip",size:".2rem"}),(0,n.jsxs)("div",{className:"ml-[.06rem] text-color-text2 text-[.14rem]",children:["Unstaking may take around"," ",(0,n.jsxs)("span",{className:"text-color-text1",children:[(0,ue.uO)(f)," days"]})," ","to complete"]})]}),(0,n.jsx)(u.j,{icon:"right",color:"#6C86AD",size:".11rem"})]})})),(0,n.jsx)("div",{className:"h-[1.07rem] mt-[.18rem] pt-[.24rem] mx-[.24rem] bg-color-bgPage rounded-[.3rem]",children:(0,n.jsxs)("div",{className:"mx-[.12rem] flex items-start",children:[(0,n.jsxs)("div",{className:"h-[.42rem] bg-color-bg2 rounded-[.3rem] flex items-center cursor-pointer",...(0,A.vW)(Ee),children:[(0,n.jsxs)("div",{className:"ml-[.08rem] flex items-center",children:[(0,n.jsx)("div",{className:"w-[.34rem] h-[.34rem] relative",children:(0,n.jsx)(ne(),{src:(0,de.Oe)(f),alt:"logo",layout:"fill"})}),(0,n.jsxs)("div",{className:"text-color-text1 text-[.16rem] ml-[.16rem]",children:["r",f]})]}),(0,n.jsx)("div",{className:"ml-[.16rem] mr-[.16rem]",children:(0,n.jsx)(u.j,{icon:"arrow-down",size:".1rem",color:"#848B97"})})]}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col justify-start pl-[.14rem]",children:[(0,n.jsxs)("div",{className:"flex items-center h-[.42rem]",children:[(0,n.jsx)(ve.a,{value:qe,handleValueChange:Ke,fontSize:".24rem",placeholder:"Amount"}),(0,n.jsx)("div",{children:(0,n.jsx)(Ne.o,{type:"stroke",width:".63rem",height:".36rem",fontSize:".16rem",className:"bg-color-bg1 border-color-border1",onClick:()=>{kt||vt||isNaN(Number(gt))||Ke((0,O.uf)(gt,{toReadable:!1,withSplit:!1}))},children:"Max"})})]}),(0,n.jsxs)("div",{className:"mt-[.1rem] flex items-center justify-between text-[.14rem]",children:[(0,n.jsxs)("div",{className:"text-color-text2",children:[jt?`$${(0,O.uf)(jt,{decimals:2})}`:""," "]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"text-color-text2",children:"Balance"}),(0,n.jsx)("div",{className:"ml-[.06rem] text-color-text1",children:(0,O.uf)(gt)})]})]})]})]})}),(0,n.jsx)(Ne.o,{loading:Qe,disabled:Mt,mt:".18rem",className:"mx-[.24rem]",height:".56rem",onClick:()=>{if(vt||kt)(()=>{if(f!==b.O_.KSM)if(f===b.O_.DOT)p((0,ce.rF)(!0,b.Sq.Polkadot));else if(f===b.O_.ETH||f===b.O_.MATIC)if(G){if(kt)c&&c((0,D.JB)())}else s(W.S1),p((0,ie.Q)(!0));else if(f===b.O_.BNB)if(G){if(kt)c&&c((0,D.Az)())}else s(W.M_),p((0,ie.Q)(!0));else if(f===b.O_.SOL){if(!L)return void p((0,ce.rF)(!0,b.Sq.Polkadot));if(!$)p((0,ce.GM)(!1))}else if(f===b.O_.FIS){if(T===b.rz.Polkadot&&!L)p((0,ce.rF)(!0,b.Sq.Polkadot))}else f!==b.O_.ATOM&&f!==b.O_.IRIS&&f!==b.O_.SWTH&&f!==b.O_.HUAHUA||p((0,ce.o2)([H.Q2,tt]));else p((0,ce.rF)(!0,b.Sq.Polkadot))})();else if(St)T===b.rz.Cosmos?p((0,ie.Po)(!0)):p((0,ie.ll)(!0));else if(f===b.O_.ETH)p((0,oe.Mj)(xt,ft,qe,wt,Et,!1,((t,r)=>{p((0,le.G)(b.Yn.ERC20,e.tokenName)),p((0,ie.ZD)()),t&&(It(),r&&Dt())})));else if(f===b.O_.MATIC)p((0,ae._1)(pt,Nt,Number(qe)+"",wt,Et,!1,(t=>{p((0,le.G)(De,e.tokenName)),p((0,ie.ZD)()),t&&(It(),Dt())})));else if(f===b.O_.BNB){if(isNaN(Number(Ge)))return void fe.Z.error(y.Vx);p((0,J.Ar)(bt,ht,qe,wt,Ge+"",Et,!1,Je,(t=>{p((0,le.G)(De,e.tokenName)),p((0,ie.ZD)()),t&&(It(),Dt())})))}else if(f===b.O_.KSM)p((0,g.$4)(qe,ze||"",wt,Et,(t=>{p((0,le.G)(De,e.tokenName)),p((0,ie.ZD)()),t&&It()})));else if(f===b.O_.DOT)p((0,N.MD)(qe,ze||"",wt,Et,(t=>{p((0,le.G)(De,e.tokenName)),p((0,ie.ZD)()),t&&It()})));else if(f===b.O_.SOL)p((0,k.Oh)(qe,ze||"",wt,Et,(t=>{p((0,le.G)(De,e.tokenName)),p((0,ie.ZD)()),t&&It()})));else if(f===b.O_.FIS)p((0,v.Vp)(qe,wt,Et,(t=>{p((0,le.G)(De,e.tokenName)),p((0,ie.ZD)()),t&&(It(),Dt())})));else if(f===b.O_.ATOM||f===b.O_.IRIS||f===b.O_.SWTH||f===b.O_.HUAHUA){var t;p((0,me.rs)(f,tt,qe,wt,Et,(null===(t=st)||void 0===t?void 0:t.bech32Address)||"",it,ot,mt,dt,!1,(e=>{p((0,ie.ZD)()),e&&It()})))}},type:Bt?"secondary":"primary",children:(0,n.jsxs)("div",{className:"flex items-center",children:[Ct,(Ct.indexOf("Wrong network")>=0||Ct.indexOf("Insufficient FIS.")>=0)&&(0,n.jsx)("div",{className:"ml-[.12rem] flex items-center",children:(0,n.jsx)(u.j,{icon:"arrow-right",size:".12rem",color:"#222C3C"})})]})}),(0,n.jsxs)("div",{className:"mt-[.24rem] grid items-stretch font-[500] mx-[.75rem]",style:{gridTemplateColumns:"40% 30% 30%"},children:[(0,n.jsx)("div",{className:"flex justify-start ml-[.18rem]",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"text-text2/50 dark:text-text2Dark/50 text-[.14rem]",children:"Will Receive"}),(0,n.jsxs)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem]",children:[(0,O.xy)(wt)," ",f]})]})}),(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"text-text2/50 dark:text-text2Dark/50 text-[.14rem]",children:"APR"}),void 0!==Ue?(0,n.jsxs)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem]",children:[(0,O.uf)(Ue,{decimals:2,toReadable:!1}),"%"]}):(0,n.jsx)("div",{className:"mt-[.1rem]",children:(0,n.jsx)(x.G,{height:".32rem"})})]}),(0,n.jsx)("div",{className:"flex justify-end mr-[.0rem]",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("div",{className:"text-text2/50 dark:text-text2Dark/50 text-[.14rem]",children:"Est. Cost"}),[b.O_.ETH,b.O_.MATIC].includes(f)?(0,n.jsxs)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem]",children:["$",(0,O.uf)(At,{decimals:2})]}):f===b.O_.FIS||f===b.O_.BNB?(0,n.jsxs)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem] cursor-pointer flex items-center",children:["$",(0,O.uf)(_t,{decimals:2})]}):(0,n.jsxs)("div",{className:"mt-[.1rem] text-color-text2 text-[.16rem] cursor-pointer flex items-center",...(0,A.b8)(Be),children:["$",(0,O.uf)(_t,{decimals:2}),(0,n.jsx)("div",{className:i()("flex items-center relative ml-[.1rem] self-center rotate-90",Be.isOpen?"rotate-[270deg]":"rotate-90"),children:(0,n.jsx)(u.j,{icon:"right",layout:"fill",alt:"down",size:".12rem",color:S?"#FFFFFF80":"#6C86AD"})})]})]})})]}),(0,n.jsx)(F.Z,{...(0,te.ZW)(Be),transformOrigin:{horizontal:"center",vertical:"top"},anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{marginTop:".15rem","& .MuiPopover-paper":{background:S?"#6C86AD4D":"#ffffff80",border:S?"0.01rem solid #6C86AD80":"0.01rem solid #FFFFFF",backdropFilter:"blur(.4rem)",borderRadius:".3rem"},"& .MuiTypography-root":{padding:"0rem"},"& .MuiBox-root":{padding:"0rem"}},children:(0,n.jsxs)("div",{className:i()("text-color-text2 w-[2.5rem] p-[.16rem] text-[.14rem]",S?"dark":""),children:[(0,ue.KE)(f)&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"Relay Fee"}),(0,n.jsx)("div",{className:"flex items-center",children:(0,_.sy)(mt)?(0,n.jsx)(x.G,{height:".14rem"}):(0,n.jsxs)(n.Fragment,{children:[(0,O.uf)(mt,{decimals:4})," ","FIS"]})})]}),f!==b.O_.FIS&&f!==b.O_.ETH&&!(0,ue.KE)(f)&&(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:"Relay Fee"}),(0,n.jsx)("div",{className:"flex items-center",children:(0,_.sy)(Ge)?(0,n.jsx)(x.G,{height:".14rem"}):(0,n.jsxs)(n.Fragment,{children:[(0,O.uf)(_e.Z.fisAmountToHuman(Ge),{decimals:4})," ","FIS"]})})]}),(0,ue.KE)(f)?(0,n.jsxs)("div",{className:"flex justify-between my-[.16rem]",children:[(0,n.jsx)("div",{children:"Tx Fee"}),(0,n.jsx)("div",{className:"flex items-center",children:(0,_.sy)(.01)?(0,n.jsx)(x.G,{height:".14rem"}):(0,n.jsxs)(n.Fragment,{children:[(0,O.uf)(.01,{decimals:4})," FIS"]})})]}):(0,n.jsxs)("div",{className:"flex justify-between my-[.16rem]",children:[(0,n.jsx)("div",{children:"Tx Fee"}),(0,n.jsx)("div",{className:"flex items-center",children:(0,_.sy)(Pe)?(0,n.jsx)(x.G,{height:".14rem"}):(0,n.jsxs)(n.Fragment,{children:[(0,O.uf)(Pe,{decimals:4})," FIS"]})})]}),(0,n.jsx)("div",{className:"h-[1px] bg-color-popoverDivider my-[.1rem]"}),(0,n.jsxs)("div",{className:"text-color-text1 flex items-center justify-between",children:[(0,n.jsx)("div",{children:"Overall Tx Fee"}),(0,n.jsx)("div",{className:"flex items-center",children:(0,_.sy)(Ft)?(0,n.jsx)(x.G,{height:".14rem"}):(0,n.jsxs)(n.Fragment,{children:[(0,O.uf)(Ft,{decimals:4})," FIS"]})})]}),(0,n.jsxs)("div",{className:"mt-[.16rem] text-right flex items-center justify-end",children:[(0,n.jsx)("span",{className:"mr-[.04rem]",children:"~$"}),(0,_.sy)(_t)?(0,n.jsx)(x.G,{height:".14rem"}):(0,n.jsx)(n.Fragment,{children:(0,O.uf)(_t,{decimals:4})})]})]})}),(0,n.jsx)(a.ZP,{...(0,te.ZW)(Ee),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},elevation:0,sx:{marginTop:".15rem","& .MuiPopover-paper":{background:S?"#6C86AD4D":"#ffffff80",border:S?"0.01rem solid #6C86AD80":"0.01rem solid #FFFFFF",backdropFilter:"blur(.4rem)",borderRadius:".3rem"},"& .MuiTypography-root":{padding:"0px"},"& .MuiBox-root":{padding:"0px"}},children:(0,n.jsxs)("div",{className:i()("w-[2.8rem] max-h-[6rem] overflow-auto",S?"dark":""),children:[(0,n.jsx)("div",{className:"text-color-text1 text-[.16rem] mt-[.2rem] ml-[.12rem] mb-[.1rem]",children:"Choose Token Type"}),0===Ie.length&&(0,n.jsx)("div",{className:"flex justify-center my-[.4rem]",children:(0,n.jsx)(d.z,{size:"0.6rem"})}),Ie.map(((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between h-[.5rem] cursor-pointer mx-[.12rem]",onClick:()=>{Ee.close(),B?r.push({pathname:`/gallery/[eco]/${e.tokenName}`,query:{...r.query,eco:T,net:B}},void 0,{scroll:!1}):r.push(`/gallery/${T}/${e.tokenName}`)},children:[(0,n.jsxs)("div",{className:"flex items-center ",children:[(0,n.jsx)("div",{className:"w-[.2rem] h-[.2rem] relative",children:(0,n.jsx)(ne(),{alt:"logo",layout:"fill",src:e.icons.tokenIcon})}),(0,n.jsx)("div",{className:"ml-[.06rem] text-color-text1 text-[.14rem]",children:e.rTokenName})]}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("div",{className:"ml-[.12rem]",children:f===e.tokenName?(0,n.jsx)(u.j,{icon:"checked-circle",size:".16rem",color:"#5A5DE0"}):(0,n.jsx)("div",{className:"w-[.16rem] h-[.16rem] rounded-full border-solid border-[1px] border-color-border3"})})})]}),t!==Ie.length-1&&(0,n.jsx)("div",{className:"h-[1px] mx-[.12rem] bg-color-popoverDivider"})]},e.tokenName)))]})})]})};var Ce=r(49511),Be=r.n(Ce);const Ee=e=>{const t=(0,se.useRouter)(),{tokenName:r}=e,{darkMode:s}=(0,j.C)((e=>({darkMode:e.app.darkMode}))),a=(0,o.useMemo)((()=>{const e=t.query.tab;if(e)switch(e){case"stake":case"unstake":case"trade":case"bridge":case"withdraw":return e;default:return"stake"}return"stake"}),[t.query]),l=e=>{t.replace({pathname:t.pathname,query:{...t.query,tab:e}})};return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"bg-color-bg2 rounded-[.3rem] pb-[.14rem]",children:[(0,n.jsxs)("div",{className:"h-[.56rem] grid items-stretch",style:{gridTemplateColumns:"50% 50%"},children:[(0,n.jsx)("div",{className:i()("cursor-pointer flex items-center justify-center rounded-tl-[.3rem] text-[.16rem] text-color-text1 border-[0.01rem]","stake"===a?"font-[700] border-color-borderActive":"border-color-border1","stake"===a?Be()["selected-bg"]:"bg-color-bg2"),style:{borderRightWidth:"stake"===a?"0.01rem":"0px"},onClick:()=>{l("stake")},children:"Stake"}),(0,n.jsx)("div",{className:i()("cursor-pointer flex items-center justify-center rounded-tr-[.3rem] text-[.16rem] text-color-text1 border-[0.01rem]","unstake"===a?"font-[700] border-color-borderActive":"border-color-border1","unstake"===a?Be()["selected-bg"]:"bg-color-bg2"),style:{borderLeftWidth:"unstake"===a?"0.01rem":"0px"},onClick:()=>{l("unstake")},children:"Unstake"})]}),"stake"===a&&(0,n.jsx)(je,{tokenName:r}),"unstake"===a&&(0,n.jsx)(Me,{tokenName:r})]})})}},81820:function(e,t,r){"use strict";r.d(t,{z:function(){return N}});var n=r(85893),s=r(92382);r(94184);r(11719);var i=r(57455),o=r(15058),a=r(12564),l=r(87896),m=r(18310),c=r(23330),d=r(29321),u=r(74646),f=r(25675),x=r.n(f);const h=e=>{const{data:t}=e,{darkMode:r}=(0,a.C)((e=>({darkMode:e.app.darkMode})));return(0,n.jsxs)("div",{className:"w-[3.1rem] mb-[.24rem] bg-color-bg2 border-[0.01rem] border-color-border1 rounded-[.32rem] flex flex-col items-stretch px-[.24rem] py-[.2rem]",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("div",{className:"w-[.34rem] h-[.68rem] relative",children:[(0,n.jsx)("div",{className:"w-[.34rem] h-[.34rem] absolute left-0 top-0",children:(0,n.jsx)(x(),{src:(0,d.YX)(t.token0),alt:"logo",layout:"fill"})}),(0,n.jsx)("div",{className:"w-[.34rem] h-[.34rem] absolute left-0 bottom-[.04rem]",children:(0,n.jsx)(x(),{src:t.token1.startsWith("r")?(0,d.Oe)(t.token1):(0,d.YX)(t.token1.toString()),alt:"logo",layout:"fill"})})]}),(0,n.jsxs)("div",{className:"flex flex-col items-start gap-[.04rem] ml-[.12rem]",children:[(0,n.jsxs)("div",{className:"font-[700] text-color-text1 text-[.24rem] flex leading-[.24rem]",children:[t.token0," \xb7 ",t.token1]}),(0,n.jsx)("div",{className:"text-[.14rem] text-color-text2 font-[500] leading-[.14rem]",children:l.Mw[t.platform]})]})]})}),(0,n.jsxs)("div",{className:"mt-[.14rem] flex items-center justify-between",children:[(0,n.jsx)("div",{className:"text-color-text2 text-[.14rem] leading-[.21rem] font-[500] opacity-70",children:"APR"}),(0,n.jsxs)("div",{className:"font-[700] text-color-text1 text-[.16rem] flex leading-[.24rem] items-center",children:[(e=>{const t=[],r=(0,n.jsx)("div",{className:"relative w-[.12rem] h-[.14rem] mr-[.06rem]",children:(0,n.jsx)(x(),{src:o.Z,alt:"rocket",layout:"fill"})}),s=(0,n.jsx)("div",{className:"relative w-[.12rem] h-[.14rem] mr-[.06rem]",children:(0,n.jsx)(x(),{src:i.Z,alt:"rocket",layout:"fill"})});if(e.rocket)for(let n=0;n<e.rocket;n++)t.push(r);if(e.fire)for(let n=0;n<e.fire;n++)t.push(s);return t.slice(0,3).map(((e,t)=>({...e,key:t})))})(t),-1===t.aprStatus?"Unknown":`${(0,u.uf)(t.apr/100,{decimals:2,toReadable:!1})}%`]})]}),(0,n.jsxs)("div",{className:"mt-[.18rem] flex items-center justify-between",children:[(0,n.jsx)("div",{className:"text-color-text2 text-[.14rem] leading-[.21rem] font-[500] opacity-70",children:"Pool TVL"}),(0,n.jsx)("div",{className:"font-[500] text-color-text2 text-[.16rem] leading-[.24rem]",children:`$${(0,u.uf)(t.tvl,{decimals:3})}`})]}),(0,n.jsxs)("div",{className:"mt-[.18rem] flex items-center justify-between",children:[(0,n.jsx)("div",{className:"text-color-text2 text-[.14rem] leading-[.21rem] font-[500] opacity-70",children:"Type"}),(0,n.jsx)("div",{className:"font-[500] text-color-text2 text-[.16rem] leading-[.24rem]",children:t.category===l.pW.Liquidity?"DEX":l.pW[t.category]})]}),(0,n.jsx)("div",{className:"mt-[.24rem]",children:(e=>e.tag===l.yo.ComingSoon?(0,n.jsx)("div",{className:"h-[.42rem] rounded-[.45rem] w-[2.62rem] text-color-text2 text-[.24rem] flex items-center justify-center mt-[.34rem] bg-color-bgPage",children:"Coming Soon~"}):[l.Mw.StaFi,l.Mw.StaFiHub,l.Mw.Balancer,l.Mw.Uniswap,l.Mw.Curve,l.Mw.Pancake,l.Mw.QuickSwap,l.Mw.Thena,l.Mw.Demex,l.Mw.Camelot,l.Mw.KyberSwap,l.Mw.Satin,l.Mw.Velodrome,l.Mw.Wombat,l.Mw.WhiteWhale,l.Mw.Osmosis].includes(e.platform)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.o,{onClick:()=>(e=>{e.platform===l.Mw.Balancer?e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://app.balancer.fi/#/ethereum/pool/0xb08885e6026bab4333a80024ec25a1a3e1ff2b8a000200000000000000000445"):e.platform===l.Mw.Uniswap?e.token0===m.O_.ETH&&e.token1.toString()===m.O_.FIS&&(0,c.nG)("https://app.uniswap.org/#/add/v2/ETH/0xef3a930e1ffffacd2fc13434ac81bd278b0ecc8d"):e.platform===l.Mw.Curve?e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://curve.fi/#/ethereum/pools/reth/deposit/"):e.platform===l.Mw.Pancake?e.token0===m.O_.BNB&&e.token1===m.WX.rBNB&&(0,c.nG)("https://pancakeswap.finance/add/BNB/0xF027E525D491ef6ffCC478555FBb3CFabB3406a6?chain=bsc"):e.platform===l.Mw.QuickSwap?e.token0===m.O_.MATIC&&e.token1===m.WX.rMATIC&&(0,c.nG)("https://quickswap.exchange/#/pools?currency0=ETH&currency1=0x9f28e2455f9FFcFac9EBD6084853417362bc5dBb"):e.platform===l.Mw.Thena?e.token0===m.O_.BNB&&e.token1===m.WX.rBNB&&(0,c.nG)("https://thena.fi/liquidity"):e.platform===l.Mw.KyberSwap?e.token0===m.O_.MATIC&&e.token1===m.WX.rMATIC?(0,c.nG)("https://kyberswap.com/polygon/elastic/add/MATIC/0x9f28e2455f9ffcfac9ebd6084853417362bc5dbb/20"):e.token0===m.O_.USDC&&e.token1===m.WX.rMATIC?(0,c.nG)("https://kyberswap.com/pools/polygon?search=0xe782be467389af4f8f83204c92a29c74e6eb49a3&tab=elastic"):e.token0===m.O_.USDC&&e.token1.toString()===m.O_.FIS?(0,c.nG)("https://kyberswap.com/pools/polygon?search=0xceb4a15a4f8b86cd3ac0bce48247f581d740048c&tab=elastic"):e.token0===m.O_.USDC&&e.token1===m.WX.rETH?(0,c.nG)("https://kyberswap.com/pools/polygon?search=0x0a054b3ea73cf95065f707061d0018f3ac64e07b&tab=elastic"):e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://kyberswap.com/pools/polygon?search=0x5e3e395d9eea311b7039053c2fab47d950429271&tab=elastic"):e.platform===l.Mw.Camelot?(e.token0===m.O_.ETH&&e.token1===m.WX.rETH||e.token0===m.O_.FIS&&e.token1===m.WX.rETH)&&(0,c.nG)("https://app.camelot.exchange/liquidity"):e.platform===l.Mw.Demex?e.token0===m.O_.ATOM&&e.token1===m.WX.rATOM?(0,c.nG)("https://app.dem.exchange/trade/rATOM%20/%20ATOM"):e.token0===m.O_.SWTH&&e.token1===m.WX.rSWTH&&(0,c.nG)("https://app.dem.exchange/account/balance/deposit/cgt/1"):e.platform===l.Mw.StaFi?(0,c.nG)("https://app.rdex.finance/liquidity"):e.platform===l.Mw.StaFiHub?(0,c.nG)("https://app.rdex.finance/stafihub/liquidity"):e.platform===l.Mw.Satin?(0,c.nG)("https://satin.exchange/liquidity/0xd2019f052e7e9e08a9b4a5e19e2b5088a7809bab/"):e.platform===l.Mw.Velodrome?e.token0===m.O_.FIS&&e.token1===m.WX.rETH?(0,c.nG)("https://app.velodrome.finance/deposit?token0=0x6c2f7b6110a37b3b0fbdd811876be368df02e8b0&token1=0xd8737ca46aa6285de7b8777a8e3db232911bad41&stable=false"):e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://app.velodrome.finance/deposit?token0=0x6c2f7b6110a37b3b0fbdd811876be368df02e8b0&token1=0x4200000000000000000000000000000000000006&stable=false"):e.platform===l.Mw.Wombat?e.token0===m.O_.BNB&&e.token1===m.WX.rBNB&&(0,c.nG)("https://app.wombat.exchange/pool?pool=rBNB&token=rBNB&action=DEPOSIT&chain=bsc"):e.platform===l.Mw.WhiteWhale?e.token0===m.O_.HUAHUA&&e.token1===m.WX.rHUAHUA&&(0,c.nG)("https://app.whitewhale.money/chihuahua/pools/manage_liquidity?poolId=HUAHUA-rHUAHUA"):e.platform===l.Mw.Osmosis&&(e.token0===m.O_.ATOM&&e.token1===m.WX.rATOM?(0,c.nG)("https://app.osmosis.zone/pool/1227"):e.token0===m.O_.ATOM&&e.token1.toString()===m.O_.FIS&&(0,c.nG)("https://app.osmosis.zone/pool/1230"))})(e),children:"Add Liquidity"}),(0,n.jsx)("div",{className:"mt-[.12rem]",children:(0,n.jsx)(s.o,{type:"stroke",onClick:()=>(e=>{e.platform===l.Mw.Balancer?e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://app.balancer.fi/#/ethereum/swap"):e.platform===l.Mw.Uniswap?e.token0===m.O_.ETH&&e.token1.toString()===m.O_.FIS&&(0,c.nG)("https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=0xef3a930e1ffffacd2fc13434ac81bd278b0ecc8d"):e.platform===l.Mw.Curve?e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://curve.fi/#/ethereum/swap"):e.platform===l.Mw.Pancake?e.token0===m.O_.BNB&&e.token1===m.WX.rBNB&&(0,c.nG)("https://pancakeswap.finance/swap?outputCurrency=0xF027E525D491ef6ffCC478555FBb3CFabB3406a6"):e.platform===l.Mw.QuickSwap?e.token0===m.O_.MATIC&&e.token1===m.WX.rMATIC&&(0,c.nG)("https://quickswap.exchange/#/swap?inputCurrency=0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270&outputCurrency=0x9f28e2455f9ffcfac9ebd6084853417362bc5dbb&swapIndex=0"):e.platform===l.Mw.Thena?e.token0===m.O_.BNB&&e.token1===m.WX.rBNB&&(0,c.nG)("https://thena.fi/swap?inputCurrency=BNB&outputCurrency=0xf027e525d491ef6ffcc478555fbb3cfabb3406a6"):e.platform===l.Mw.KyberSwap?e.token0===m.O_.MATIC&&e.token1===m.WX.rMATIC?(0,c.nG)("https://kyberswap.com/swap/polygon?inputCurrency=MATIC&outputCurrency=0x9f28e2455f9FFcFac9EBD6084853417362bc5dBb"):e.token0===m.O_.USDC&&e.token1===m.WX.rMATIC?(0,c.nG)("https://kyberswap.com/swap/polygon?inputCurrency=0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174&outputCurrency=0x9f28e2455f9FFcFac9EBD6084853417362bc5dBb"):e.token0===m.O_.USDC&&e.token1.toString()===m.O_.FIS?(0,c.nG)("https://kyberswap.com/pools/polygon?search=0xcEb4A15a4f8B86cD3aC0bCe48247f581d740048c&tab=elastic"):e.token0===m.O_.USDC&&e.token1===m.WX.rETH?(0,c.nG)("https://kyberswap.com/swap/polygon?inputCurrency=0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174&outputCurrency=0x5736df66b4f8401d639Ffa915a46B4c548C09Ac1"):e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://kyberswap.com/swap/polygon?inputCurrency=0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619&outputCurrency=0x5736df66b4f8401d639Ffa915a46B4c548C09Ac1"):e.platform===l.Mw.Camelot?(e.token0===m.O_.ETH&&e.token1===m.WX.rETH||e.token0===m.O_.FIS&&e.token1===m.WX.rETH)&&(0,c.nG)("https://app.camelot.exchange/"):e.platform===l.Mw.Demex?e.token0===m.O_.ATOM&&e.token1===m.WX.rATOM?(0,c.nG)("https://app.dem.exchange/trade/rATOM%20/%20ATOM"):e.token0===m.O_.SWTH&&e.token1===m.WX.rSWTH&&(0,c.nG)("https://app.dem.exchange/trade/rSWTH/SWTH"):e.platform===l.Mw.StaFi?(0,c.nG)(`https://app.rdex.finance/swap?first=${e.token0}&second=${e.token1}`):e.platform===l.Mw.StaFiHub?(0,c.nG)(`https://app.rdex.finance/stafihub/swap?first=u${e.token0.toLowerCase()}&second=u${e.token1.toLowerCase()}`):e.platform===l.Mw.Satin?(0,c.nG)("https://satin.exchange/swap/"):e.platform===l.Mw.Velodrome?e.token0===m.O_.FIS&&e.token1===m.WX.rETH?(0,c.nG)("https://app.velodrome.finance/swap?from=0xd8737ca46aa6285de7b8777a8e3db232911bad41&to=0x6c2f7b6110a37b3b0fbdd811876be368df02e8b0"):e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://app.velodrome.finance/swap?from=0x4200000000000000000000000000000000000006&to=0x6c2f7b6110a37b3b0fbdd811876be368df02e8b0"):e.platform===l.Mw.Wombat?e.token0===m.O_.BNB&&e.token1===m.WX.rBNB&&(0,c.nG)("https://app.wombat.exchange/swap?from=WBNB&to=rBNB&chain=bsc"):e.platform===l.Mw.WhiteWhale?e.token0===m.O_.HUAHUA&&e.token1===m.WX.rHUAHUA&&(0,c.nG)("https://app.whitewhale.money/chihuahua/swap?from=rHUAHUA&to=HUAHUA"):e.platform===l.Mw.Osmosis&&(e.token0===m.O_.ATOM&&e.token1===m.WX.rATOM?(0,c.nG)("https://app.osmosis.zone/?from=ATOM&to=rATOM"):e.token0===m.O_.ATOM&&e.token1.toString()===m.O_.FIS&&(0,c.nG)("https://app.osmosis.zone/?from=ATOM&to=FIS"))})(e),children:"Swap"})})]}):[l.Mw.Nitron,l.Mw.Timeswap].includes(e.platform)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.o,{onClick:()=>(e=>{e.platform===l.Mw.Nitron?e.token0===m.O_.ATOM&&e.token1===m.WX.rATOM&&(0,c.nG)("https://scan.carbon.network/cdp/ibc%2F30E45B39A24DD2A5A8FE7A14C39F3127ADCEC9933F81A8C26AB42D8BEE0B74D4?net=main"):e.platform===l.Mw.Timeswap&&e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://app.timeswap.io/#/lend/arbitrum/51d86294-47b5-4145-9b13-03f253549cbc")})(e),children:"Lend"}),(0,n.jsx)("div",{className:"mt-[.12rem]",children:(0,n.jsx)(s.o,{type:"stroke",onClick:()=>(e=>{e.platform===l.Mw.Timeswap&&e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://app.timeswap.io/#/borrow/arbitrum/51d86294-47b5-4145-9b13-03f253549cbc")})(e),children:"Borrow"})})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.o,{onClick:()=>(e=>{e.platform===l.Mw.Aura?(0,c.nG)("https://app.aura.finance/"):e.platform===l.Mw.Convex?(0,c.nG)("https://www.convexfinance.com/stake"):e.platform===l.Mw.Pendle?(0,c.nG)("https://app.pendle.finance/simple/pools/0xd1434df1e2ad0cb7b3701a751d01981c7cf2dd62"):e.platform===l.Mw.Wombex?e.token0===m.O_.BNB&&e.token1===m.WX.rBNB&&(0,c.nG)("https://wombex.finance/#/bnb/stake"):e.platform===l.Mw.Magpie&&(e.token0===m.O_.BNB&&e.token1===m.WX.rBNB?(0,c.nG)("https://www.magpiexyz.io/stake"):e.token0===m.O_.ETH&&e.token1===m.WX.rETH&&(0,c.nG)("https://www.pendle.magpiexyz.io/stake/0xd1434df1E2Ad0Cb7B3701a751D01981c7Cf2Dd62"))})(e),children:"Deposit"})}))(t)})]})};var b=r(67294),p=(r(64553),r(63287));const N=e=>{const{tokenName:t}=e,{integrationsList:r}=(0,l.jo)(l.pW.All),s=(0,b.useMemo)((()=>r.filter((e=>e.token0.includes(t)||e.token1.includes(t)))),[r,t]);return(0,n.jsxs)("div",{children:[0===s.length&&(0,n.jsx)("div",{className:"flex justify-center mt-[1rem]",children:(0,n.jsx)(p.z,{})}),(0,n.jsx)("div",{className:"w-[10.02rem] mx-auto flex gap-x-[.36rem] flex-wrap items-start mt-[.24rem]",children:s.map((e=>(0,n.jsx)(h,{data:e},e.id)))})]})}},7005:function(e,t,r){"use strict";r.d(t,{T:function(){return j}});var n=r(85893),s=r(78262),i=r(9581),o=r(94184),a=r.n(o),l=r(22657),m=r(12564),c=r(25675),d=r.n(c),u=r(5370),f={src:"/_next/static/media/no_edit_memo.180cee5e.png",height:478,width:586,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAKlBMVEWMkZiTl52jpLDsyNlkbI5WX4xyeJSEiZbdx9nbxth4fpXbxNeuqrq6scHZZkthAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMUlEQVR4nCXGWRIAIQjFwKAPEJf7X9easfMTVlXVGpv+HNpjgCTyG3cZfxkzErDp8rgg6wDpuI6e9AAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7},x=r(98373),h=r(49511),b=r.n(h),p=r(23330),N=r(18310),v=r(62145),g=r.n(v),k=r(64077),O=r.n(k);const j=e=>{const{tokenName:t}=e,{darkMode:r}=((0,m.T)(),(0,x.T)());return(0,n.jsx)(s.Z,{open:e.visible,onClose:e.onClose,sx:{"& .MuiDialog-container":{padding:"0","& .MuiPaper-root":{width:"100%",maxWidth:"3.5rem",backgroundColor:"transparent",padding:"0",borderRadius:".32rem"},"& .MuiDialogContent-root":{padding:"0",width:"3.5rem"}}},children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)(u.Z,{borderColor:"transparent",background:r?"#222C3C":"#ffffff",className:a()("flex-1 flex flex-col items-center",g().className),children:[(0,n.jsx)("div",{className:"absolute right-[.24rem] top-[.36rem] cursor-pointer",onClick:e.onClose,children:(0,n.jsx)(l.j,{icon:"close",size:".16rem",color:"#6C86AD"})}),(0,n.jsx)("div",{className:"mt-[.36rem] w-[2rem] h-[2rem] relative rounded-[.1rem] overflow-hidden",children:(0,n.jsx)(d(),{src:f,layout:"fill",alt:"success"})}),(0,n.jsx)("div",{className:a()("text-[.24rem] leading-normal text-center text-color-text1 mt-[.24rem]",O().className),children:"Do Not Edit Memo"}),(0,n.jsx)("div",{className:a()("mt-[.12rem] text-[.16rem] text-color-text2 text-center leading-normal px-[.32rem]"),children:"rToken App use the Memo to register your receiving address on-chain, please Do Not edit this Memo or else your staking action will fail."}),(0,n.jsxs)("div",{className:"mt-[.32rem] w-full flex h-[.46rem]",children:[(0,n.jsx)("div",{className:"cursor-pointer font-[600] text-[.16rem] text-color-text1 flex-1 bg-color-bgPage flex items-center justify-center underline",onClick:()=>{t===N.O_.ATOM?(0,p.nG)("https://docs.stafi.io/stakingatom/#confirm-transaction-and-await-for-confirmations"):t===N.O_.SWTH?(0,p.nG)("https://docs.stafi.io/stakingswth/#confirm-transaction-and-await-for-confirmations"):t===N.O_.HUAHUA?(0,p.nG)("https://docs.stafi.io/stakinghuahua/#confirm-transaction-and-await-for-confirmations"):t===N.O_.IRIS&&(0,p.nG)("https://docs.stafi.io/stakingiris/#confirm-transaction-and-await-for-confirmations")},children:"Learn More"}),(0,n.jsx)("div",{className:a()("cursor-pointer font-[600] text-[.16rem] text-color-text1 flex-1 flex items-center justify-center",b()["modal-button"]),onClick:e.onConfirm})]})]})})})}},36174:function(e,t,r){"use strict";r.d(t,{x:function(){return a}});var n=r(67294),s=r(98867),i=r(12564),o=r(98373);function a(e){const t=(0,i.T)(),{updateFlag15s:r}=(0,o.T)(),{erc20BridgeFee:a,bep20BridgeFee:l,solBridgeFee:m,ics20BridgeFee:c}=(0,i.C)((e=>({erc20BridgeFee:e.bridge.erc20BridgeFee,bep20BridgeFee:e.bridge.bep20BridgeFee,solBridgeFee:e.bridge.solBridgeFee,ics20BridgeFee:e.bridge.ics20BridgeFee})));return(0,n.useEffect)((()=>{r&&t((0,s.Ls)())}),[t,r]),{erc20BridgeFee:a,bep20BridgeFee:l,solBridgeFee:m,ics20BridgeFee:c}}},69873:function(e,t,r){"use strict";r.d(t,{f:function(){return c}});var n=r(54972),s=r(15941),i=r(27678),o=r(34926),a=r(67294),l=r(98373),m=r(36672);function c(e,t){const r=(0,a.useRef)(),{updateFlag15s:c}=(0,l.T)(),[d,u]=(0,a.useState)([]),[f,x]=(0,a.useState)(),[h,b]=(0,a.useState)(!1),[p,N]=(0,a.useState)(),[v,g]=(0,a.useState)([]),k=(0,a.useMemo)((()=>{if(e)try{return(0,n.getRTokenDenom)(e,o.gG)}catch(t){}}),[e]),{multisigPoolAddress:O,icaPoolAddress:j}=(0,m.W)(k),y=(0,a.useMemo)((()=>j||O),[O,j]),T=(0,a.useCallback)((async()=>{var t;if(!e||!k||!y||!c)return;const r=((null===(t=await(0,i.queryRValidatorList)(o.gG[o.Q2],y,k))||void 0===t?void 0:t.rValidatorList)||[]).map((t=>(async()=>await(0,i.queryStakingValidator)(o.gG[e],t))())),n=await Promise.all(r);g(n);const s=await(0,i.queryStakingParams)(o.gG[e]);N(s)}),[e,y,k,c]),w=(0,a.useCallback)((async()=>{if(!t)return void b(!1);const e=[];if(v.forEach((r=>{var n;const i=null===(n=r)||void 0===n?void 0:n.validator;if(i){var o,a,l,m;const r=Number(null===(a=p)||void 0===a||null===(o=a.params)||void 0===o?void 0:o.validatorBondFactor)/Number("1000000000000000000"),n=Number(null===(m=p)||void 0===m||null===(l=m.params)||void 0===l?void 0:l.validatorLiquidStakingCap)/Number("1000000000000000000"),c=Number(i.liquidShares)/Number("1000000000000000000"),d=Number(i.delegatorShares)/Number("1000000000000000000"),u=Number(i.validatorBondShares)/Number("1000000000000000000");if((c+Number((0,s.humanToAtomic)(t)))/(d+Number((0,s.humanToAtomic)(t)))>n)return;(-1===r||c+Number((0,s.humanToAtomic)(t))<=u*r)&&e.push(i.operatorAddress)}})),u(e),b(0===e.length),e.length>0){const t=e[Math.floor(Math.random()*e.length)];x(t)}else x(void 0)}),[t,p,v]);return(0,a.useEffect)((()=>{T()}),[T]),(0,a.useEffect)((()=>{r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{w()}),500)}),[w]),{noValidValidator:h,selectedValidatorAddr:f,validValidators:d}}},23935:function(e,t,r){"use strict";r.d(t,{_:function(){return s}});var n=r(12564);function s(){const{ethBalance:e,goerliEthBalance:t,maticBalance:r,bnbBalance:s}=(0,n.C)((e=>({ethBalance:e.eth.balance,goerliEthBalance:e.eth.goerliBalance,maticBalance:e.matic.balance,bnbBalance:e.bnb.balance})));return{ethBalance:e,goerliEthBalance:t,maticBalance:r,bnbBalance:s}}},92652:function(e,t,r){"use strict";r.d(t,{T:function(){return u}});var n=r(18310),s=r(67294),i=r(41544),o=r(12564),a=r(98373),l=r(92096),m=r(54972),c=r(34926),d=r(40134);function u(e,t,r){const u=(0,o.T)(),{updateFlag15s:f,refreshDataFlag:x}=(0,a.T)(),{metaMaskAccount:h,polkadotAccount:b}=(0,l.P)(),p=(0,s.useMemo)((()=>{if(t===n.O_.ATOM||t===n.O_.IRIS||t===n.O_.SWTH||t===n.O_.HUAHUA)return(0,m.getChainIdFromRTokenDisplayName)("r"+t,c.gG)}),[t]),{stakeStatus:N}=(0,d.u)(p),v=(0,o.C)((r=>{var s;if(e!==n.Yn.Native&&(t===n.O_.ATOM||t===n.O_.IRIS||t===n.O_.SWTH||t===n.O_.HUAHUA))return null===(s=N)||void 0===s?void 0:s.rTokenBalance;if(!e||!t)return;const i=r.rToken.rTokenBalanceStore;return i[e]&&i[e][t]?i[e][t]:void 0}));return(0,s.useEffect)((()=>{!r&&t&&u((0,i.bj)(e,t))}),[h,b,u,e,t,r]),(0,s.useEffect)((()=>{e&&t&&u((0,i.G)(e,t))}),[u,h,b,e,t,f,x]),v}},53886:function(e,t,r){"use strict";r.d(t,{K:function(){return a}});var n=r(67294),s=r(41544),i=r(12564),o=r(98373);function a(e){const t=(0,i.T)(),{updateFlag15s:r}=(0,o.T)(),a=(0,i.C)((t=>t.rToken.rTokenRatioStore[e]||void 0));return(0,n.useEffect)((()=>{t((0,s.tY)(e))}),[t,e,a,r]),a}},40134:function(e,t,r){"use strict";r.d(t,{u:function(){return u}});var n=r(54972),s=r(15941),i=r(27678),o=r(34926),a=r(67294),l=r(9473),m=r(84815),c=r(12564),d=r(37594);function u(e){const t=(0,c.T)(),r=(0,d.B)(o.Q2),{priceList:u}=(0,c.C)((e=>({priceList:e.rToken.priceList}))),f=(0,l.v9)((e=>e.stafiHub.chainStakeStatusMap)),x=(0,a.useMemo)((()=>e?f[e]:void 0),[f,e]),h=(0,a.useCallback)((async e=>{if(e)if(r)try{const a=await(0,i.queryStakePoolInfo)(o.gG[o.Q2],(0,n.getRTokenDenom)(e,o.gG)),l=(0,s.atomicToHuman)(a.exchangeRate,6,6);if(isNaN(Number(l)))return;const c=await(0,i.queryrTokenBalance)(o.gG[o.Q2],r.bech32Address,(0,n.getRTokenDenom)(e,o.gG)),d=(0,s.atomicToHuman)(c,(0,n.getChainDecimals)(e,o.gG),6),f=u.find((t=>t.symbol===(0,n.getTokenDisplayName)(e,o.gG)));let x="--";f&&(x=(0,s.atomicToHuman)(f.price,6,6));const h=Number(c)/Math.pow(10,(0,n.getChainDecimals)(e,o.gG))*(Number(a.exchangeRate)/1e6)+"",b=Number(h)*Number(x),p={rTokenDenom:e,rTokenBalance:d,stakedAmount:h,stakedValue:b.toString()};t((0,m.tW)(e,p))}catch(a){}else t((0,m.tW)(e,void 0))}),[t,r,u]);return(0,a.useEffect)((()=>{h(e)}),[h,e]),{stakeStatus:x,updateStakeStatus:h}}},53330:function(e,t,r){"use strict";r.d(t,{A:function(){return o}});var n=r(27678),s=r(34926),i=r(67294);function o(e){const[t,r]=(0,i.useState)(),[o,a]=(0,i.useState)(),[l,m]=(0,i.useState)("1");(0,i.useEffect)((()=>{(async()=>{var t;if(!e)return;const i=await(0,n.queryStakingTotalLiquidStaked)(s.gG[e]);r(null===(t=i)||void 0===t?void 0:t.tokens)})()}),[e]),(0,i.useEffect)((()=>{(async()=>{var t,r;if(!e)return;const i=await(0,n.queryStakingPool)(s.gG[e]);a(null===(r=i)||void 0===r||null===(t=r.pool)||void 0===t?void 0:t.bondedTokens)})()}),[e]),(0,i.useEffect)((()=>{(async()=>{var t,r,i,o;if(!e)return;const a=await(0,n.queryStakingParams)(s.gG[e]);m((null===(r=a)||void 0===r||null===(t=r.params)||void 0===t?void 0:t.globalLiquidStakingCap)?Number(null===(o=a)||void 0===o||null===(i=o.params)||void 0===i?void 0:i.globalLiquidStakingCap)/Number("1000000000000000000")+"":"1")})()}),[e]);return{exceedLimit:(0,i.useMemo)((()=>Number(o)*Number(l)<=Number(t)),[t,o,l]),liquidStakingCap:l}}},87905:function(e,t,r){"use strict";r.d(t,{p:function(){return s},v:function(){return i}});var n=r(12564);function s(e){return(0,n.C)((t=>{var r;return(null===(r=t.rToken.priceList.find((t=>t.symbol===`${e}`)))||void 0===r?void 0:r.price)||"--"}))}function i(){return(0,n.C)((e=>e.rToken.stafiHubPriceList))}},56381:function(e,t,r){"use strict";r.d(t,{E:function(){return s}});var n=r(12564);function s(e){const{stakeAmount:t,stakeValue:r,totalApy:s}=(0,n.C)((t=>t.rToken.tokenStakeData[e]||{stakeAmount:void 0,stakeValue:void 0,totalApy:void 0}));return{stakeAmount:t,stakeValue:r,totalApy:s}}},10434:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},70215:function(e,t,r){var n=r(7071);e.exports=function(e,t){if(null==e)return{};var r,s,i=n(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s},e.exports.__esModule=!0,e.exports.default=e.exports}}]);